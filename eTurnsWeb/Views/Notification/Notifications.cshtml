@{

    ViewBag.Title = eTurns.DTO.ResSchedulerReportList.PageTitle;
    var settings = new GridHeaderSettings() { DataTableName = "myDataTable", ShowCloseButton = false, ShowSelectAll = true, DisplayUDFButton = true, UDFSetupFor = "InventoryCount&UDFHeader=" + @eTurns.DTO.ResSchedulerReportList.PageTitle, DisplaySettings = true, DisplayColumnSetupButton = true, ColumnSetupFor = "NotificationMasterList", DisplayDeleteButton = true };
    var modelCommon = new eTurns.DTO.CommonDTO { PageName = "NotificationMasterList" };

    bool isInsert = eTurnsWeb.Helper.SessionHelper.GetModulePermission(eTurnsWeb.Helper.SessionHelper.ModuleList.Notifications, eTurnsWeb.Helper.SessionHelper.PermissionType.Insert);
    bool isUpdate = eTurnsWeb.Helper.SessionHelper.GetModulePermission(eTurnsWeb.Helper.SessionHelper.ModuleList.Notifications, eTurnsWeb.Helper.SessionHelper.PermissionType.Update);
    bool isDelete = eTurnsWeb.Helper.SessionHelper.GetModulePermission(eTurnsWeb.Helper.SessionHelper.ModuleList.Notifications, eTurnsWeb.Helper.SessionHelper.PermissionType.Delete);
    string CurrentCulture = eTurns.DTO.Resources.ResourceHelper.CurrentCult.Name;
    //string NotificationPDFURL = string.Format("{0}?t={1}", "/Uploads/HelpDoc/Notification.pdf", DateTime.Now.Ticks);
    var version = eTurnsWeb.Helper.CommonUtility.GetReleaseNumber();
    bool IsShowChangeLog = eTurnsWeb.Helper.SessionHelper.GetModulePermission(eTurnsWeb.Helper.SessionHelper.ModuleList.Notifications, eTurnsWeb.Helper.SessionHelper.PermissionType.ShowChangeLog);

    string PDFURL = "";
    string VideoURL = "";
    bool IsHelpDocShow = false;
    bool IsHelpVideoShow = false;
    string ModuleName = "";
    //if (ViewBag.HelpDocReportName != null)
    //{
    //    HelpDocumentMasterDTO objHelpDTO = eTurnsWeb.Helper.SessionHelper.GetHelpDocumentMasterByDocType(ViewBag.HelpDocReportName, (int)HelpDocType.Report);
    //    if (objHelpDTO != null)
    //    {
    //        if (objHelpDTO.ModuleDocPath != null && !string.IsNullOrWhiteSpace(objHelpDTO.ModuleDocPath))
    //        {
    //            PDFURL = string.Format("{0}?t={1}", objHelpDTO.ModuleDocPath.Replace("..", ""), DateTime.Now.Ticks);
    //        }
    //        if (objHelpDTO.ModuleVideoPath != null && !string.IsNullOrWhiteSpace(objHelpDTO.ModuleVideoPath))
    //        {
    //            VideoURL = objHelpDTO.ModuleVideoPath.Replace("../Uploads/HelpVideo/", "");
    //        }
    //        IsHelpDocShow = objHelpDTO.IsDoc ?? false;
    //        IsHelpVideoShow = objHelpDTO.IsVideo ?? false;
    //        ModuleName = objHelpDTO.ModuleName;
    //    }
    //}
    List<HelpDocumentDetailDTO> objHelpDocDtlDTO = eTurnsWeb.Helper.SessionHelper.GetHelpDocumentDetail("Notification", (int)HelpDocType.Module);
}
@section head{
    <script src="@Url.Content("~/Scripts/jquery-ui-timepicker-addon.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/ckeditor/ckeditor.js")" type="text/javascript"></script>
    @*<script src="@Url.Content("~/Content/ckeditor/_samples/sample.js")" type="text/javascript"></script>
        <link href="@Url.Content("~/Content/ckeditor/_samples/sample.css")" rel="stylesheet" type="text/css" />*@
    @if (SiteSettingHelper.IsBorderStateURL == "1" && SiteSettingHelper.EnableOktaLoginForSpecialUrls.Contains(eTurnsWeb.Helper.SessionHelper.CurrentDomainURL)){<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/tabstyleBS.css")" />}else{ <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/tabstyle.css")" />}
    <style type="text/css">
        .dataTables_scrollBody {
            max-height: 410px;
            overflow-y: scroll;
        }
    </style>
    @*<script type='text/javascript' src="@Url.Content("~/Content/OpenAccess/jquery.cookie.js")"></script>*@
    <script type='text/javascript' src="@Url.Content("~/Scripts/TabCommon.js?v=" + version)"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/SiteScripts.js?v=" + version)"></script>
    <script type="text/javascript">
        var ReportNew = '@eTurns.DTO.Resources.ResCommon.ReportNew';
        var AlertNew = '@eTurns.DTO.Resources.ResCommon.AlertNew';
        var ReportAlertNew = '@eTurns.DTO.Resources.ResCommon.New';
        var ReportAlertEdit = '@eTurns.DTO.Resources.ResCommon.Edit';
        var ReportEdit = '@eTurns.DTO.Resources.ResCommon.ReportEdit';
        var AlertEdit = '@eTurns.DTO.Resources.ResCommon.AlertEdit';
        var IsReloadItemList = false;
        var isTabClick = false;
        var CountListColumnsArr = new Array();
        CountListColumnsArr.push({
            mDataProp: null, sDefaultContent: '', bSortable: false, sClass: "read_only", fnRender: function (obj, val) {
                return "<a href='javascript:void(0);' title='@ResSchedulerReportList.CopyNotification' id='lnkCopy'><img src='@Url.Content("~/Content/Images/copy-icon.png")' /></a>";
            }
        });
        CountListColumnsArr.push({ mDataProp: "ID", sClass: "read_only" });
        CountListColumnsArr.push({
            mDataProp: "ScheduleName", sClass: "read_only", "sDefaultContent": '', "fnRender": function (obj, val) {
                if ('@isUpdate' == 'True') {
                    return "<input name='hdnID' type='hidden' value='" + obj.aData.ID + "' /><a id='lnkEditNtfctn' href='JavaScript:void(0);'>" + val + "</a>";
                }
                else {
                    return "<input name='hdnID' type='hidden' value='" + obj.aData.ID + "' /><span id='spnEditNtfctn'>" + val + "</span>";
                }
            }
        });

        CountListColumnsArr.push({
            "mDataProp": "TemplateName",
            "sClass": "read_only",
            "fnRender": function (obj, val) {
                var AlertName = obj.aData.AlertResourceName;
                if (AlertName == null) {
                    AlertName = "";
                };
                return "<span>" + AlertName + "</span>"
            }
        });
         CountListColumnsArr.push({
            "mDataProp": "ReportName",
            "sClass": "read_only",
            "fnRender": function (obj, val) {
                var ReportName = obj.aData.ReportResourceName;
                if (ReportName == null) {
                    ReportName = "";
                }
                return "<span>" + ReportName + "</span>"
            }
        });

        //CountListColumnsArr.push({ mDataProp: "AlertResourceName", sClass: "read_only" });
        //CountListColumnsArr.push({ mDataProp: "ReportResourceName", sClass: "read_only" });

        CountListColumnsArr.push({ mDataProp: "EmailAddress", sClass: "read_only" });
        CountListColumnsArr.push({ mDataProp: "EmailSubject", sClass: "read_only" });

        CountListColumnsArr.push({ mDataProp: "IsActive", sClass: "read_only", "fnRender": function (obj, val) { return GetBoolInFormat(obj, val); } });
        CountListColumnsArr.push({ mDataProp: "NextRunDate", sClass: "read_only", fnRender: function (obj, val) { return obj.aData.ScheduleNextRunDate; } });
        CountListColumnsArr.push({ mDataProp: "Created", sClass: "read_only", fnRender: function (obj, val) { return obj.aData.CreatedDate; } });
        CountListColumnsArr.push({ mDataProp: "Updated", sClass: "read_only", fnRender: function (obj, val) { return obj.aData.UpdatedDate; } });
        CountListColumnsArr.push({ mDataProp: "UpdatedByName", sClass: "read_only" });
        CountListColumnsArr.push({ mDataProp: "CreatedByName", sClass: "read_only" });

        var oTable;
        var IsRefreshGrid = false;
        var deleteURL = "/Notification/DeleteNotification";
        //var PostCount = 0;
        var IsDeletePopupOpen = false;
        var AllowDeletePopup = true;
        var HistorySelected;
        var SelectedID = 0;
        var objColumns = {}
        var vTemplateID = 0;
        var vNotificationID = 0;

        var PDFURL = '@PDFURL';
        var IsHelpDocShow = '@IsHelpDocShow';
        var VideoURL = '@VideoURL';
        var IsHelpVideoShow = '@IsHelpVideoShow';
        var ModuleName = '@ModuleName';

        $(document).ready(function () {

            //$("select#AttachmentReportIDs").change(function () {
            $("#CtabNew").on("change", "select#AttachmentReportIDs", function () {
                /* WI-6599 Changes for InStock Schedule Start */
                if (typeof ($("#ddlItemStatus")) != "undefined"
                    && $("#ddlItemStatus").length > 0) {
                    $("#ddlItemStatus").multiselect("uncheckAll");
                }
                /* WI-6599 Changes for InStock Schedule End */
                ShowSortDropdown();
                var NotificationID = $("#ID").val();
                var ReportId = $(this).val();
                var ScheduleFor = $("#ScheduleFor").val();
                if (ReportId != '' && NotificationID != '') {
                    //  $("select#SortFieldFirstOrder").html('');
                    //  $("select#SortFieldSecondOrder").html('');
                    //  $("select#SortFieldThirdOrder").html('');
                    //  $("select#SortFieldFourthOrder").html('');
                    //  $("select#SortFieldFifthOrder").html('');
                    //  $("select#SortFieldFirstValue").html('');
                    //  $("select#SortFieldSecondValue").html('');
                    //  $("select#SortFieldThirdValue").html('');
                    //  $("select#SortFieldFourthValue").html('');
                    //  $("select#SortFieldFifthValue").html('');
                    $("select#EmailTemplateToken").html('');
                    if (parseInt(ScheduleFor) == 6) {
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetTokenReportWise", "Notification")',
                            contentType: 'application/json',
                            dataType: 'json',
                            data: "{TemplateId:'" + $("select#NotificationName").val().split('_')[0] + "',ReportID:'" + parseInt($("select#AttachmentReportIDs").val()) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "',isBothApplay: '" + true + "'}",
                            success: function (Result) {

                                $.each(Result.lstSortList, function (key, value) {
                                    $("select#EmailTemplateToken").append($("<option></option>").val(value.key).html(value.value));
                                });
                                if ($("select#NotificationName").val().split('_')[0] == @Convert.ToInt32(MailTemplate.RequisitionApproveReject)
                                    || $("select#NotificationName").val().split('_')[0] == @Convert.ToInt32(MailTemplate.OrderApproveReject)) {
                                    $("#divApproverRequestertitle").show();
                                    $("#divApproverRequesterNote").show();
                                }
                                else {
                                    $("#divApproverRequestertitle").hide();
                                    $("#divApproverRequesterNote").hide();
                                }
                            }
                        });
                    }
                    else
                    {
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetTokenReportWise", "Notification")',
                            contentType: 'application/json',
                            dataType: 'json',
                            data: "{TemplateId:'" + parseInt($("select#AttachmentReportIDs").val()) + "',ReportID:'" + parseInt($("#ID").val()) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "',isBothApplay: '" + false + "'}",
                            success: function (Result) {

                                $.each(Result.lstSortList, function (key, value) {
                                    $("select#EmailTemplateToken").append($("<option></option>").val(value.key).html(value.value));
                                });
                                $("#divApproverRequestertitle").hide();
                                $("#divApproverRequesterNote").hide();
                            }
                        });
                    }
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetSortFieldsReportWise", "Notification")',
                        contentType: 'application/json',
                        dataType: 'json',
                        data: "{TemplateId:'" + parseInt(ReportId) + "',NotificationID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "'}",
                        success: function (Result) {

                            $.each(Result.lstSortList, function (key, value) {
                                $("select#SortFieldFirstValue").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldSecondValue").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldThirdValue").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldFourthValue").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldFifthValue").append($("<option></option>").val(value.key).html(value.value));
                            });
                            $.each(Result.lstSortOrder, function (key, value) {
                                $("select#SortFieldFirstOrder").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldSecondOrder").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldThirdOrder").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldFourthOrder").append($("<option></option>").val(value.key).html(value.value));
                                $("select#SortFieldFifthOrder").append($("<option></option>").val(value.key).html(value.value));
                            });
                            if ((Result.objNotificationDTO.ReportMasterDTO != null && Result.objNotificationDTO.ReportMasterDTO.ReportType == "2") ||
                             Result.objNotificationDTO.AttachedReportMasterDTO != null && Result.objNotificationDTO.AttachedReportMasterDTO.ReportType == "2") {
                                $("li#HideHeaderLI").hide();
                                $("input#HideHeader").attr("disabled", "disabled");
                                $("input#HideHeader").removeAttr("checked");
                            }
                            else {
                                $("li#HideHeaderLI").show();
                                $("input#HideHeader").removeAttr("disabled");
                            }
                            if ((Result.objNotificationDTO.ReportMasterDTO != null && Result.objNotificationDTO.ReportMasterDTO.IsNotEditable == true)) {
                                $("li#HideHeaderLI").hide();
                                $("input#HideHeader").attr("disabled", "disabled");
                                $("input#HideHeader").removeAttr("checked");
                            }
                            var FirstValue, FirstSort, SecondValue, SecondSort, ThirdValue, ThirdSort, FourthValue, FourSort, FifthValue, FifthSort;
                            FirstValue = Result.objNotificationDTO.SortFieldFirstValue;
                            FirstSort = Result.objNotificationDTO.SortFieldFirstOrder;
                            SecondValue = Result.objNotificationDTO.SortFieldSecondValue;
                            SecondSort = Result.objNotificationDTO.SortFieldSecondOrder;
                            ThirdValue = Result.objNotificationDTO.SortFieldThirdValue;
                            ThirdSort = Result.objNotificationDTO.SortFieldThirdOrder;
                            FourthValue = Result.objNotificationDTO.SortFieldFourthValue;
                            FourSort = Result.objNotificationDTO.SortFieldFourthOrder;
                            FifthValue = Result.objNotificationDTO.SortFieldFifthValue;
                            FifthSort = Result.objNotificationDTO.SortFieldFifthOrder;

                            if (FirstValue != '') {
                                $("select#SortFieldFirstValue").val(FirstValue);
                                $("select#SortFieldFirstOrder").val(FirstSort);
                            }
                            if (SecondValue != '') {
                                $("select#SortFieldSecondValue").val(SecondValue);
                                $("select#SortFieldSecondOrder").val(SecondSort);
                            }
                            if (ThirdValue != '') {
                                $("select#SortFieldThirdValue").val(ThirdValue);
                                $("select#SortFieldThirdOrder").val(ThirdSort);
                            }
                            if (FourthValue != '') {
                                $("select#SortFieldFourthValue").val(FourthValue);
                                $("select#SortFieldFourthOrder").val(FourSort);
                            }
                            if (FifthValue != '') {
                                $("select#SortFieldFifthValue").val(FifthValue);
                                $("select#SortFieldFifthOrder").val(FifthSort);
                            }
                            SetSortFields();
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("GetModuleNameByReportId", "Reportbuilder")',
                                contentType: 'application/json',
                                data: "{TemplateId:'" + parseInt(ReportId) + "',NotificationID:'" + parseInt(NotificationID) + "'}",
                                success: function (response) {

                                    $('input#hdnModuleName').val(response);
                                    if (response != null && response != '' && (response == "Consume_Requisition" || response == "Range-Consume_Requisition")) {
                                        $("#liRequisitionStatus").show();
                                        $("#liWOStatus").show();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        BindStatus(response, $("input#Status").val());
                                        BindWOStatus("WorkOrder", $("input#WOStatus").val());
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();




                                    }
                                    else if (response != null && response != '' && response == "WorkOrder") {
                                        BindWOStatus(response, $("input#WOStatus").val());
                                        $("#liRequisitionStatus").hide();

                                        $("#liWOStatus").show();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").show();

                                        if ((parseInt(NotificationID) || 0) < 1)
                                        {
                                            //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                            //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("refresh");
                                            $("select").multiselect('reload');
                                            var SelectedStatusID = getSelectedID('ddlQuantityType');
                                            $("body").find("input#QtyType").val(SelectedStatusID);

                                        }
                                        
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                    else if (response != null && response != '' && response == "Order") {
                                        BindOrderStatus(response, $("input#OrderStatus").val());
                                        $("#liOrderStatus").show();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                    else if (response != null && response != '' && response == "Replenish_Order") {
                                        BindOrderLineItemStatus(response, $("input#OrderStatus").val());
                                        $("#liOrderWithLineItemStatus").show();
                                        $("#liOrderStatus").hide();
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                        var ParentReportName = "";
                                        if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                                            ParentReportName = $("#ParentReportName").val();
                                        }
                                        if (ParentReportName == "Order Item Summary") {
                                            $("#liExcludeZeroOrdQty").show();
                                        }
                                        else {
                                            $("#liExcludeZeroOrdQty").hide();
                                        }
                                    }
                                    else if (response != null && response != '' && response == "ExpiringItems") {
                                        $("#liOnlyExpiredItems").show();
                                        $("#liOnlyExpiredItemsDays").show();
                                        $("#liOnlyExpiredItemsOrder").show();
                                        $("#liOnlyExpiredItemsDate").show();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liRequisitionStatus").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                    else if (response != null && response != '' && response == "Tool") {
                                        $("#liOnlyAvailableTools").show();
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                    else if (response != null && response != '' && ((response.toLowerCase() == "consume_pull") || (response.toLowerCase() == "not consume_pull"))) {
                                        $("#ddlQuantityType").multiselect("refresh");
                                        $("#ddlQuantityType").multiselect({
                                            noneSelectedText: 'Quantity Type', selectedList: 5,
                                            selectedText: function (numChecked, numTotal, checkedItems) {
                                                return 'Quantity Type' + ' ' + numChecked + ' ' + selected;
                                            }
                                        }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                            if (ui.checked) {
                                                $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                                $("#ddlQuantityType option[value='" + ui.value + "']").attr("selected", 1);
                                                // SetLabelText('lblselectedRoom', 'ddlStatus');

                                                var SelectedStatusID = getSelectedID('ddlQuantityType');
                                                $("body").find("input#QtyType").val(SelectedStatusID);


                                            }
                                            else {

                                                var SelectedStatusID = getSelectedID('ddlQuantityType');
                                                $("body").find("input#QtyType").val(SelectedStatusID);


                                            }
                                        });

                                        var objExistselect = $("input#QtyType").val().split(',');
                                        var x = document.getElementById("ddlQuantityType");


                                        for (var i = 0; i < objExistselect.length; i++) {

                                            //    for (var j = 0; j < objList.length; j++) {

                                            //      if (objList[j].key == objExistselect[i]) {
                                            for (j = 0; j < x.options.length; j++) {

                                                if (x.options[j].value == objExistselect[i]) {
                                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                    $("#ddlQuantityType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                    $("#ddlQuantityType").multiselect("refresh");

                                                }
                                            }
                                        }

                                        $("#liQuantityType").show();
                                        if ((parseInt(NotificationID) || 0) < 1) {
                                            //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                            //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("refresh");
                                            $("#ddlQuantityType").multiselect('reload');
                                            var SelectedStatusID = getSelectedID('ddlQuantityType');
                                            $("body").find("input#QtyType").val(SelectedStatusID);
                                            var SelectedStatusID = getSelectedID('ddlQuantityType');
                                            $("body").find("input#QtyType").val(SelectedStatusID);

                                        }
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                                            ParentReportName = $("#ParentReportName").val();
                                        }
                                        if (ParentReportName === "Pull Summary" || ParentReportName === "Pull Summary by Quarter") {
                                            $("#liUsageType").show();
                                            $("select#ddlUsageType").val($('#UsageType').val());
                                            $("#ddlItemStatus").multiselect("refresh");
                                            $("#ddlItemStatus").multiselect({
                                                noneSelectedText: 'Item Status', selectedList: 5,
                                                selectedText: function (numChecked, numTotal, checkedItems) {
                                                    return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                                }
                                            }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                                if (ui.checked) {
                                                    $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                                    $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                                    var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                    $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                    FillModuleItem();
                                                }
                                                else {
                                                    var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                    $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                    FillModuleItem();
                                                }
                                            });

                                            var objExistselect = $("input#ItemStatus").val().split(',');
                                            var x = document.getElementById("ddlItemStatus");

                                            for (var i = 0; i < objExistselect.length; i++) {
                                                for (j = 0; j < x.options.length; j++) {

                                                    if (x.options[j].value == objExistselect[i]) {
                                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                        $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                        $("#ddlItemStatus").multiselect("refresh");
                                                    }
                                                }
                                            }
                                            $("#liItemStatus").show();  

                                            if (ParentReportName === "Pull Summary by Quarter")
                                            {
                                                $("#liItemWithZeroPullUsage").show();  
                                                
                                            }
                                        }
                                        else {
                                            $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                            $("#liItemStatus").hide();
                                        }
                                        //$("#liItemStatus").hide();


                                        $("#liOnlyAvailableTools").hide();
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liAppliedFilter").hide();


                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();

                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                    else if (response != null && response != '' && response == 'CountMaster') {
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").show();
                                        $("select#ddlAppliedFilter").val($('#CountAppliedFilter').val());

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                    else if (response != null && response != '' && (response == 'InStockByBin' || response == 'InStockByActivity' || response == 'InStockByBinMargin' || response == 'InStockWithQOH')) {

                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        
                                        $("#liAppliedFilter").hide();
                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                        /* WI-6599 Changes for InStock Schedule start */
                                        var TemplateName = "";
                                        if (typeof ($("#hdnTemplateName")) != undefined && $("#hdnTemplateName") != null) {
                                            TemplateName = $("#hdnTemplateName").val();
                                        }

                                        if (TemplateName == "ItemStockOut") {
                                            $("#ddlItemStatus").multiselect("refresh");
                                            $("#ddlItemStatus").multiselect({
                                                noneSelectedText: 'Item Status', selectedList: 5,
                                                selectedText: function (numChecked, numTotal, checkedItems) {
                                                    return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                                }
                                            }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                                if (ui.checked) {
                                                    $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                                    $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                                    var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                    $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                }
                                                else {
                                                    var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                    $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                }
                                            });

                                            var objExistselect = $("input#ItemStatus").val().split(',');
                                            var x = document.getElementById("ddlItemStatus");
                                            if ($("input#ItemStatus").val().length <= 0) {
                                                for (j = 0; j < x.options.length; j++) {
                                                    if (x.options[j].value == "1") {
                                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                        $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                        $("#ddlItemStatus").multiselect("refresh");
                                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                    }
                                                }
                                            }
                                            for (var i = 0; i < objExistselect.length; i++) {
                                                for (j = 0; j < x.options.length; j++) {

                                                    if (x.options[j].value == objExistselect[i]) {
                                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                        $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                        $("#ddlItemStatus").multiselect("refresh");
                                                    }
                                                }
                                            }
                                            $("#liItemStatus").show();
                                        }
                                        else {
                                            $("#liItemStatus").hide();
                                        }
                                        /* WI-6599 Changes for InStock Schedule End */
                                    }
                                    else if (response != null && response != '' && (response == 'Cart')) {
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                        $("#ddlCartType").multiselect("refresh");
                                        $("#ddlCartType").multiselect({
                                            noneSelectedText: 'Cart Type', selectedList: 5,
                                            selectedText: function (numChecked, numTotal, checkedItems) {
                                                return 'Cart Type' + ' ' + numChecked + ' ' + selected;
                                            }
                                        }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                            if (ui.checked) {
                                                $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                                $("#ddlCartType option[value='" + ui.value + "']").attr("selected", 1);

                                                var SelectedCartType = getSelectedID('ddlCartType');
                                                $("body").find("input#CartType").val(SelectedCartType);
                                            }
                                            else {
                                                var SelectedCartType = getSelectedID('ddlCartType');
                                                $("body").find("input#CartType").val(SelectedCartType);
                                            }
                                        });

                                        var objExistselect = $("input#CartType").val().split(',');
                                        var x = document.getElementById("ddlCartType");

                                        for (var i = 0; i < objExistselect.length; i++) {
                                            for (j = 0; j < x.options.length; j++) {

                                                if (x.options[j].value == objExistselect[i]) {
                                                    $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                    $("#ddlCartType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                    $("#ddlCartType").multiselect("refresh");
                                                }
                                            }
                                        }

                                        $("#liCartType").show();
                                        $("#liMoveType").hide();
                                    }
                                    if (response != null && response != '' && response == "MoveMaterial") {
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").show();
                                        $("#ddlItemStatus").multiselect("refresh");
                                        $("#ddlItemStatus").multiselect({
                                            noneSelectedText: 'Item Status', selectedList: 5,
                                            selectedText: function (numChecked, numTotal, checkedItems) {
                                                return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                            }
                                        }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                            if (ui.checked) {
                                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                                $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                FillModuleItem();
                                            }
                                            else {
                                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                FillModuleItem();
                                            }
                                        });

                                        var objExistselect = $("input#ItemStatus").val().split(',');
                                        var x = document.getElementById("ddlItemStatus");

                                        for (var i = 0; i < objExistselect.length; i++) {
                                            for (j = 0; j < x.options.length; j++) {

                                                if (x.options[j].value == objExistselect[i]) {
                                                    $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                    $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                    $("#ddlItemStatus").multiselect("refresh");
                                                }
                                            }
                                        }
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").show();
                                        $("#liReportRangeData").show();
                                        $("#liRRSelectAll").show();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").show();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                    else {
                                        $("#liRequisitionStatus").hide();
                                        $("#liWOStatus").hide();
                                        $("#liOrderStatus").hide();
                                        $("#liOrderWithLineItemStatus").hide();
                                        $("#liOnlyExpiredItems").hide();
                                        $("#liOnlyExpiredItemsDays").hide();
                                        $("#liOnlyExpiredItemsOrder").hide();
                                        $("#liOnlyExpiredItemsDate").hide();
                                        $("#liOnlyAvailableTools").hide();
                                        $("#liQuantityType").hide();
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                        $("#liAppliedFilter").hide();

                                        $("#liMonthlyAvg").hide();
                                        $("#liQtyRangeSelected").hide();
                                        $("#liQtyRange").hide();
                                        $("#liReportRange").hide();
                                        $("#liReportRangeData").hide();
                                        $("#liRRSelectAll").hide();
                                        $("#liInstockOnlyExpItems").hide();
                                        $("#liCartType").hide();
                                        $("#liMoveType").hide();
                                        $("#liincludeStockouttool").hide();
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                }
                            });
                            //alert(Result.lstSortList);
                            //alert(Result.lstSortOrder);
                            //alert(Result.objNotificationDTO.SortFieldFifthOrder);

                        },
                        error: function (err) {

                        }
                    });
                }
                else {

                }
            });

            objColumns = GetGridHeaderColumnsObject('myDataTable');
            LoadTabs();
            var gaiSelected = [];
            oTable = $('#myDataTable').dataTable({
                "bJQueryUI": true,
                "sScrollX": "120%",
                "bScrollCollapse": true,
                "sDom": 'RC<"top"lp<"clear">>rt<"bottom"i<"clear">>T',
                "oColVis": {},
                "aaSorting": [[1, "asc"]],
                "oColReorder": {},
                "sPaginationType": "full_numbers",
                "bProcessing": true,
                "bStateSave": true,
                "aoColumns": CountListColumnsArr,
                "oLanguage": {
                    "sLengthMenu": '@eTurns.DTO.Resources.ResGridHeader.Show' + ' _MENU_ ' + '@eTurns.DTO.Resources.ResGridHeader.Records',
                    "sEmptyTable": '@eTurns.DTO.Resources.ResMessage.NoDataAvailableInTable',
                    "sInfo": '@eTurns.DTO.Resources.ResMessage.ShowingNoOfEntries',
                    "sInfoEmpty": '@eTurns.DTO.Resources.ResMessage.ShowingZeroEntries'
                },
                "fnRowCallback": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {
                    if (aData.IsDeleted == true && aData.IsArchived == true)
                        nRow.className = "GridDeleatedArchivedRow";
                    else if (aData.IsDeleted == true)
                        nRow.className = "GridDeletedRow";
                    else if (aData.IsArchived == true)
                        nRow.className = "GridArchivedRow";
                    if (aData.IsDeleted || aData.IsArchived) {
                        $(nRow).find("input,select").attr("disabled", "disabled");
                        $("#thUpdate").css("display", 'none');
                        $(nRow).find("input[type='button'][id^='btnUpdateCartItem']").parent("td").hide();
                    }
                    return nRow;
                },
                "fnStateSaveParams": function (oSettings, oData) {
                    oData.oSearch.sSearch = "";
                    $.ajax({
                        "url": '@Url.Content("~/Master/SaveGridState")',
                        "type": "POST",
                        data: { Data: JSON.stringify(oData), ListName: 'NotificationMasterList' },
                        "async": false,
                        cache: false,
                        "dataType": "json",
                        "success": function (json) {
                            o = json;
                            //SetNotificationHelp();
                        }
                    });
                },
                "fnStateLoad": function (oSettings) {
                    var o;
                    $.ajax({
                        "url": '@Url.Content("~/Master/LoadGridState")',
                        "type": "POST",
                        data: { ListName: 'NotificationMasterList' },
                        "async": false,
                        cache: false,
                        "dataType": "json",
                        "success": function (json) {
                            if (json.jsonData != '') {
                                o = JSON.parse(json.jsonData);
                            }
                        }
                    });
                    return o;
                },
                "bServerSide": true,
                "sAjaxSource": '@Url.Action("NotificationListAjax", "Notification")',
                "fnServerData": function (sSource, aoData, fnCallback, oSettings) {
                    var arrCols = new Array();
                    var objCols = this.fnSettings().aoColumns;
                    for (var i = 0; i <= objCols.length - 1; i++) {
                        arrCols.push(objCols[i].mDataProp);
                    }
                    for (var j = 0; j <= aoData.length - 1; j++) {
                        if (aoData[j].name == "sColumns") {
                            aoData[j].value = arrCols.join("|");
                            break;
                        }
                    }
                    if (oSettings.aaSorting != null && oSettings.aaSorting.length != 0) {
                        var sortValue = "";
                        for (var i = 0; i <= oSettings.aaSorting.length - 1; i++) {
                            if (sortValue.length > 0)
                                sortValue += ", "
                            sortValue += arrCols[oSettings.aaSorting[i][0]] + ' ' + oSettings.aaSorting[i][1];
                        }
                        aoData.push({ "name": "SortingField", "value": sortValue });
                    }
                    else
                        aoData.push({ "name": "SortingField", "value": "0" });
                    aoData.push({ "name": "IsArchived", "value": $('#IsArchivedRecords').is(':checked') });
                    aoData.push({ "name": "IsDeleted", "value": $('#IsDeletedRecords').is(':checked') });

                    oSettings.jqXHR = $.ajax({
                        "dataType": 'json',
                        "type": "POST",
                        "url": sSource,
                        "cache": false,
                        "data": aoData,
						"headers": { "__RequestVerificationToken": $("input[name='__RequestVerificationToken'][type='hidden']").val() },
                        "success": fnCallback,
                        beforeSend: function () {
                            $('#myDataTable').removeHighlight();
                            $('.dataTables_scroll').css({ "opacity": 0.2 });
                        },
                        complete: function () {
                            $('.dataTables_scroll').css({ "opacity": 1 });
                            if ($("#global_filter").val() != '') {
                                $('#myDataTable').highlight($("#global_filter").val());
                            }
                            //                            SetUDFSelected(oSettings);
                        }
                    })
                },
                "fnInitComplete": function () {
                    SetNotificationHelp();
                    $('.ColVis').detach().appendTo(".setting-arrow");
                }
            }).makeEditable({
                sUpdateURL: '@Url.Content("~/Master/UpdateData")'
            });

            //HIDE PRINT CONTAINER
            $('.DTTT_container').css('z-index', '-1');

            $('#deleteRows').click(function () {
                /* IF PRINT PREVIEW DONT SHOW CONTEXT MENU */
                if ($("body").hasClass('DTTT_Print')) {
                    return false;
                }
                /* IF PRINT PREVIEW DONT SHOW CONTEXT MENU */

                var anSelectedReq = fnGetSelected(oTable);
                var stringIDs = "";
                for (var i = 0; i <= anSelectedReq.length - 1; i++) {
                    stringIDs = stringIDs + $(anSelectedReq[i]).find('#hdnUniqueID').val() + ",";
                }
                if (stringIDs.length > 0) {
                    $('#basic-modal-content').modal();
                    IsDeletePopupOpen = true;
                }
            });
            /* HISTORY related data deleated and archived START */
            $('#IsDeletedRecords').live('click', function () {
                NarrowSearchInGrid('');
            });
            $('#IsArchivedRecords').live('click', function () {
                NarrowSearchInGrid('');
            });

            $('#ViewHistory').live('click', function () {
                HistorySelected = fnGetSelected(oTable);
                if (HistorySelected != undefined && HistorySelected.length == 1) {
                    $("#atab5").click();
                }
                else {
                    $('#tab5').html('');
                    $("#spanGlobalMessage").html('@ResCommon.msgSelectForViewHistory');
                    $('div#target').fadeToggle();
                    $("div#target").delay(DelayTime).fadeOut(FadeOutTime);
                    return false;
                }
            });
            /* HISTORY related data deleated and archived END */
            function SetNotificationHelp() {
                $("#divListPageInfoclass").show();
                $("#divinnerInfoclass").hide();
                @*$('#divNotificationVideoURL').attr("style", "display:none");
                $('#divNotificationPDFURL').attr("style", "display:visible");
                var Dochtml = '<ul class="sub_subMenu"><li><a id="aNotificationPDFURL" href="@NotificationPDFURL" target="_blank">Help</a></li></ul>';
                $('#divSubNotificationPDFURL').html('');
                $('#divSubNotificationPDFURL').html(Dochtml);*@
            }

            if (window.location.hash.toLowerCase() == "#list") {
                callbackhistory();//$("#tab5").click();
                $("#CtabNew").hide();
                $("#Ctab").show();
                $("#tab26").removeClass("selected").addClass("unselected");
                $("#tab5").removeClass("unselected").addClass("selected");
            }
            else if (window.location.hash.toLowerCase() == "#new") {
                callbackReportAlertScheduleSetup();//$("#tab26").click();
                $("#Ctab").hide();
                $("#CtabNew").show();
                $("#tab5").removeClass("selected").addClass("unselected");
                $("#tab26").removeClass("unselected").addClass("selected");
            }

            $(window).on('hashchange', function () {
                if (isTabClick == false) {
                    SetTabView();
                }
                else {
                    isTabClick = false;
                }
            });
        });
        /* HISTORY related data deleated and archived START */
        function fnGetSelected(oTableLocal) {
            return oTableLocal.$('tr.row_selected');
        }
        function HistoryTabClick() {
            GetHistoryData();
        }

        function SetTabView() {
            var tabname = window.location.hash.toLowerCase();

            switch (tabname) {
                case "#list":
                    callbackhistory();//$("#tab5").click();
                    $("#CtabNew").hide();
                    $("#Ctab").show();
                    $("#tab26").removeClass("selected").addClass("unselected");
                    $("#tab5").removeClass("unselected").addClass("selected");
                    break
                case "#new":
                    callbackReportAlertScheduleSetup();//$("#tab26").click();
                    $("#Ctab").hide();
                    $("#CtabNew").show();
                    $("#tab5").removeClass("selected").addClass("unselected");
                    $("#tab26").removeClass("unselected").addClass("selected");
                    break
            }
        }

        function GetHistoryData() {
            HistorySelected = fnGetSelected(oTable);

            if (HistorySelected != undefined && HistorySelected.length == 1) {
                //SelectedHistoryRecordID = HistorySelected[0].id;
                var ID = $(HistorySelected).find("input[name='hdnID']")[0].value;

                SelectedID = ID;
                $('#DivLoading').show();
                $("#CTab").hide();
                $("#divListPageInfoclass").show();
                $("#divinnerInfoclass").hide();
                $("#CtabCL").show();

                $('#CtabCL').load('/Notification/NotificationHistory?ID=' + SelectedID + '', function () { $('#DivLoading').hide(); });

            }
            else {
                $('#CtabCL').html('');
                $("#spanGlobalMessage").html('@ResCommon.msgSelectForViewHistory');
                $('div#target').fadeToggle();
                $("div#target").delay(DelayTime).fadeOut(FadeOutTime);
                return false;
            }
        }
        /* HISTORY related data deleated and archived END */
    </script>
    <script type="text/javascript">
        var varisInsert = true;
        if ('@isInsert' == "False")
            varisInsert = false

        var TabsArry = [
          new TabClass('tab24', AlertNew, 'callbackAlertSetup();', false, false)
        , new TabClass('tab25', ReportNew, 'callbackReportScheduleSetup();', false, false)
        , new TabClass('tab26', ReportAlertNew, 'callbackReportAlertScheduleSetup();', varisInsert, varisInsert)
        , new TabClass('tab5', '@eTurns.DTO.Resources.ResCommon.List', 'callbackhistory();', true, true),
        ];

        if ('@IsShowChangeLog.ToString().ToUpper()' == 'TRUE') {
            TabsArry.push(new TabClass('tab6', '@eTurns.DTO.Resources.ResCommon.ChangeLog', 'callbackCL();', false, true));
        }

        function callbackReportScheduleSetup() {
            $('#tab24').find("#spnTabName").text(AlertNew);
            ShowNewTab('NotificationConfigurationCreate', 'frmNotificationConfigAlert');
        }
        function callbackAlertSetup() {
            $('#tab25').find("#spnTabName").text(ReportNew);
            ShowNewTab('NotificationConfigurationAlertCreate', 'frmNotificationConfigAlert');
        }
        function callbackReportAlertScheduleSetup() {
            window.location.hash = '';
            ShowNewTab('NotificationConfigurationReportAlertCreate', 'frmNotificationConfigAlert');
        }
        function callbackCL() {

            HistoryTabClick();
        }
        function callbackhistory() {
            //window.location.hash = '';
            $("#divListPageInfoclass").show();
            $("#divinnerInfoclass").hide();
            $('#myDataTable').dataTable().fnDraw();
            oTable = $('#myDataTable').dataTable();
            $('#tab24').find("#spnTabName").text(AlertNew);
            $('#tab25').find("#spnTabName").text(ReportNew);
            $('#tab26').find("#spnTabName").text(ReportAlertNew);
        }
    </script>
}
<div class="userListingWrapper">
    <h2>
        @eTurns.DTO.ResSchedulerReportList.PageHeader
    </h2>
    <div class="Infoclass" id="divListPageInfoclass" style="width:70px !important">
        @*for Notification list page start*@
        @if (objHelpDocDtlDTO != null && objHelpDocDtlDTO.Count > 0 && objHelpDocDtlDTO.FirstOrDefault().IsVideoShow == true)
        {
            var VideoCount = objHelpDocDtlDTO.Where(x => x.IsVideo == true).Count();
            if (VideoCount > 1)
            {
                <div class="refresh" style="z-index: 200 !important; margin-right: 5px;">
                    <a href="#" style="z-index:205 !important">
                        <img src="~/Content/images/InfoVideo.png" alt="Help" />
                    </a>
                    <div class="refreshBlock" style="z-index:200 !important; top: 20px;">
                        <ul class="sub_subMenu">
                            @foreach (var item in objHelpDocDtlDTO)
                            {
                                if (item.IsVideo == true && !string.IsNullOrWhiteSpace(item.ModuleVideoName) && !string.IsNullOrWhiteSpace(item.ModuleVideoPath))
                                {
                                    <li class="help_docvideo" onclick="return OpenHelpDocVideo('@item.ModuleVideoPath.Replace("../Uploads/HelpDoc/", "")', '@item.ModuleVideoNoExt');">@item.ModuleVideoNoExt</li>
                                }
                            }
                        </ul>
                    </div>
                </div>
            }
            else
            {
                HelpDocumentDetailDTO helpDetails = new HelpDocumentDetailDTO();
                helpDetails = objHelpDocDtlDTO.Where(x => x.IsVideo == true).FirstOrDefault();

                if (helpDetails != null && helpDetails.IsVideo == true && !string.IsNullOrWhiteSpace(helpDetails.ModuleVideoName) && !string.IsNullOrWhiteSpace(helpDetails.ModuleVideoPath))
                {
                    <div class="refresh" style="z-index: 200 !important; margin-right: 5px;">
                        <img class="help_docvideo" src="~/Content/images/InfoVideo.png" alt="@helpDetails.ModuleVideoNoExt" onclick="return OpenHelpDocVideo('@helpDetails.ModuleVideoPath.Replace("../Uploads/HelpDoc/", "")', '@helpDetails.ModuleVideoNoExt');" />
                    </div>
                }
            }
        }
        @if (objHelpDocDtlDTO != null && objHelpDocDtlDTO.Count > 0 && objHelpDocDtlDTO.FirstOrDefault().IsDocShow == true)
        {
            var DocCount = objHelpDocDtlDTO.Where(x => x.IsDoc == true).Count();
            if (DocCount > 1)
            {
                <div class="refresh" style="z-index: 200 !important; margin-right: 5px;">
                    <a href="#" style="z-index:205 !important">
                        <img src="~/Content/images/Info.png" alt="Help" />
                    </a>
                    <div class="refreshBlock" style="z-index:200 !important; top: 20px;">
                        <ul class="sub_subMenu">
                            @foreach (var item in objHelpDocDtlDTO)
                            {
                                if (item.IsDoc == true && !string.IsNullOrWhiteSpace(item.ModuleDocName) && !string.IsNullOrWhiteSpace(item.ModuleDocPath))
                                {
                                    <li class="help_docvideo" onclick="return window.open('@item.ModuleDocPath', '_blank')">@item.ModuleDocNoExt</li>
                                }
                            }
                        </ul>
                    </div>
                </div>
            }
            else
            {
                HelpDocumentDetailDTO helpDetails = new HelpDocumentDetailDTO();
                helpDetails = objHelpDocDtlDTO.Where(x => x.IsDoc == true).FirstOrDefault();

                if (helpDetails != null && helpDetails.IsDoc == true && !string.IsNullOrWhiteSpace(helpDetails.ModuleDocName) && !string.IsNullOrWhiteSpace(helpDetails.ModuleDocPath))
                {
                    <div class="refresh" style="z-index: 200 !important; margin-right: 5px;">
                        <img class="help_docvideo" src="~/Content/images/Info.png" alt="@helpDetails.ModuleDocNoExt" onclick="return window.open('@helpDetails.ModuleDocPath', '_blank')" />
                    </div>
                }
            }
        }
        @*for Notification list page end*@
    </div>
    <div class="Infoclass" id="divinnerInfoclass" style="width:70px !important">
        <div id="divNotificationVideoURL" class="refresh" style="z-index: 200 !important; margin-right: 5px; display:none;">
            <a href="#" style="z-index:205 !important">
                <img id="imgNotificationInfoVideo" src="~/Content/images/InfoVideo.png" alt="Help" />
            </a>
            <div id="divSubNotificationVideoURL" class="refreshBlock" style="z-index:200 !important; top: 20px;">
                @*<ul class="sub_subMenu">
                        <li><a id="NotificationVideoURL" href="#" target="_blank" onclick="return OpenReportVideo()">Basic Video</a></li>
                    </ul>*@
            </div>
        </div>
        <div id="divNotificationPDFURL" class="refresh" style="z-index: 200 !important; margin-right: 5px; display:none;">
            <a href="#" style="z-index:205 !important">
                <img id="imgNotificationInfoDoc" src="~/Content/images/Info.png" alt="Help" />
            </a>
            <div id="divSubNotificationPDFURL" class="refreshBlock" style="z-index:200 !important; top: 20px;">
                @*<ul class="sub_subMenu">
                        <li><a id="aNotificationPDFURL" href="@NotificationPDFURL" target="_blank"><img src="~/Content/images/Info.png" alt="Help" /></a></li>
                    </ul>*@
            </div>
        </div>
    </div>
    <div class="userListBlock">
        @Html.Hidden("hdnInsertRights", isInsert)
        @Html.Hidden("hdnUpdateRights", isUpdate)
        <ul class='tabs'></ul>
        <div id="CtabNew" class="tabContener">
        </div>
        <div id="Ctab" class="tabContener">
            <div class="searchWrapper">
                <div class="searchBlock">
                    <span class="label">@eTurns.DTO.Resources.ResCommon.Search </span>
                    <div class="searchinputB">
                        <input type="text" class="searchinput" id="global_filter" />
                        <a href="javascript:void(0);" class="xclose">
                            <img src="~/Content/images/x.png" alt="X" id="clear_global_filter" />
                        </a>
                    </div>
                </div>
            </div>
            @Html.GridTopHeader(settings, eTurnsWeb.Helper.SessionHelper.ModuleList.Cart)
            @Html.Partial("NarrowSearchLayout", modelCommon)
            <div class="userContent ">
                <table id="myDataTable" class="display">
                    <thead>
                        <tr>
                            <th>
                                @ResSchedulerReportList.Copy
                            </th>
                            <th>
                                @ResSchedulerReportList.ScheduleID
                            </th>
                            <th>
                                @ResSchedulerReportList.ScheduleName
                            </th>
                            <th>
                                @ResSchedulerReportList.TemplateName
                            </th>
                            <th>
                                @ResSchedulerReportList.ReportName
                            </th>
                            <th>
                                @ResSchedulerReportList.EmailAddress
                            </th>
                            <th>
                                @ResSchedulerReportList.EmailSubject
                            </th>
                            <th>
                                @ResSchedulerReportList.IsActive
                            </th>
                            <th>
                                @ResSchedulerReportList.NextRunDate
                            </th>
                            <th>
                                @eTurns.DTO.Resources.ResCommon.CreatedOn
                            </th>
                            <th>
                                @eTurns.DTO.Resources.ResCommon.UpdatedOn
                            </th>
                            <th>
                                @eTurns.DTO.Resources.ResCommon.LastUpdatedBy
                            </th>
                            <th>
                                @eTurns.DTO.Resources.ResCommon.CreatedBy
                            </th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <div id="processing_message" style="display: none" title="Processing">
                    @eTurns.DTO.Resources.ResMessage.RequestProcessMessage
                </div>
            </div>
        </div>

        <div id='CtabCL' class="tabContener">
        </div>
    </div>
</div>
@*@if (false)
    {
        <script src="../../Scripts/jquery-1.9.1-vsdoc.js" type="text/javascript"></script>
    }*@
<script type="text/javascript">
    var CopyModeList = false;
    var progresss = "completed";
    var arrEmailTemplateDtl = new Array();
    jQuery(function () {

        //$("input[type='text'][name='EmailAddress']").on("change", function () {
        $("#CtabNew").on("change", "textarea[name='EmailAddress']", function () {
            $("textarea[name='EmailAddress']").val($(this).val());
        });

        $("#CtabNew").on("change", "#CultureCode", function () {

            var curselect = $(this);

            var mailSubject = $("#EmailSubject").val();
            var mailBody = CKEDITOR.instances.txtTemplate.getData();
            var cultureCode = $(curselect).data('prevVal');
            var grepedArray = new Array();

            grepedArray = jQuery.grep(arrEmailTemplateDtl, function (arritm, i) {
                return (arritm.CultureCode == cultureCode);
            });

            if (grepedArray.length == 0) {
                arrEmailTemplateDtl.push({ CultureCode: cultureCode, MailSubject: mailSubject, MailBodyText: escape(mailBody) });
            }
            else {
                arrEmailTemplateDtl = jQuery.grep(arrEmailTemplateDtl, function (arritm, i) {
                    return (arritm.CultureCode !== cultureCode);
                });
                arrEmailTemplateDtl.push({ CultureCode: cultureCode, MailSubject: mailSubject, MailBodyText: escape(mailBody) });
            }
            grepedArray = jQuery.grep(arrEmailTemplateDtl, function (arritm, i) {
                return (arritm.CultureCode == $(curselect).val());
            });

            if (grepedArray.length > 0) {
                CKEDITOR.instances.txtTemplate.setData(unescape(grepedArray[0].MailBodyText));
                $("#EmailSubject").val(grepedArray[0].MailSubject);
            }
            else {
                CKEDITOR.instances.txtTemplate.setData("");
                $("#EmailSubject").val("");
            }

            $(curselect).data('prevVal', $(curselect).val());
        });


        $("#CtabNew").on("change", "select#EmailTemplates", function () {
            var curselect = $(this);
            $("input[type='hidden'][id='EmailTemplates']").val($(this).val());

            GetEmailTemplateDetails($(this).val(), 0, $("#ScheduleFor").val());
        });

        $("#CtabNew").on("change", "select#Reports", function () {
            var curselect = $(this);
            $("input[type='hidden'][id='Reports']").val($(this).val());
            arrEmailTemplateDtl = new Array();
            GetEmailTemplateDetails($(this).val(), $("#ID").val(), $("#ScheduleFor").val());
        });
        $("#CtabNew").on("change", "select#NotificationName", function () {
            var curselect = $(this);
            ShowHideImmediateButton();
            if ($(this).val() != '') {
                $('span[data-valmsg-for="NotificationName"]').html('');
            }
            else {
                var errmsg = '';
                errmsg = $('select[name="drpNotificationName"]').attr("data-val-required");
                $('span[data-valmsg-for="NotificationName"]').html(errmsg);
            }
            $("input[type='hidden'][id='NotificationName']").val($(curselect).val());
            arrEmailTemplateDtl = new Array();
            var objID = $(curselect).val().split('_')[0];
            var objScheduleFor = $(curselect).val().split('_')[1];
            $("#ScheduleFor").val(objScheduleFor);
            var ReportID, EmailTemplateID;
            if (objScheduleFor == 5) {
                ReportID = objID;
                EmailTemplateID = 3;
            }
            else if (objScheduleFor == 6) {
                ReportID = 0;
                EmailTemplateID = objID;
            }
            /* WI-6599 Changes for InStock Schedule Start */
            if (typeof ($("#ddlItemStatus")) != "undefined"
                && $("#ddlItemStatus").length > 0) {
                $("#ddlItemStatus").multiselect("uncheckAll");
            }
            $("#hdnTemplateName").val("");
            /* WI-6599 Changes for InStock Schedule End */
            //var currentReport = $('select[name="drpNotificationName"] option:selected').text();
            var currentReport = $(curselect).find("option:selected").text();
            var currentReportIDNew = $("select[name='drpNotificationName']").val();
            var currentType = $(curselect).val().split('_')[1];
            var currentReportId = $(curselect).val().split('_')[1];
            if ($.trim(currentType) == "5") {
                $("#liNextExecDate,#liDataSelectionTyp,#liReportDataSince,#liCompanyIds,#liCompanyIdsList,#liRoomIds,#liRoomIdsList").show();
                if (currentReport == "Company") {
                    $("#liRoomIds,#liRoomIdsList").hide();
                    $("#ddlRRoom > option").remove();
                    $("#ddlRRoom").multiselect("refresh");
                }



            }
            else {
                if (currentReportIDNew == "21_6" || currentReportIDNew == "48_6") {
                    $("#liRoomIds, #liRoomIdsList,#liCompanyIds,#liCompanyIdsList").show();
                    $("#liNextExecDate,#liDataSelectionTyp,#liReportDataSince,#liRequisitionStatus,#liWOStatus,#liOnlyExpiredItems,#liOnlyExpiredItemsDays,#liOnlyExpiredItemsOrder,#liOnlyExpiredItemsDate,#liOnlyAvailableTools,#liQuantityType,#liUsageType,#liCartType,#liincludeStockouttool,#liItemWithZeroPullUsage,#liMoveTyp").hide();

                } else {
                    $("#liNextExecDate,#liDataSelectionTyp,#liReportDataSince,#liCompanyIds,#liCompanyIdsList,#liRoomIds,#liRoomIdsList,#liRequisitionStatus,#liWOStatus,#liOnlyExpiredItems,#liOnlyExpiredItemsDays,#liOnlyExpiredItemsOrder,#liOnlyExpiredItemsDate,#liOnlyAvailableTools,#liQuantityType,#liUsageType,#liCartType,#liincludeStockouttool,#liItemWithZeroPullUsage,#liMoveTyp").hide();
                }

            }
            $("#AttachmentReportIDs").val($("#AttachmentReportIDs option:first").val());
            GetEmailTemplateDetails(objID, $("#ID").val(), $("#ScheduleFor").val(), ReportID);

            SetScheduleForFields($("#ScheduleFor").val(), $("#ID").val());
            $("#divListPageInfoclass").hide();
            $("#divinnerInfoclass").show();
            SetHelpDocVideoByID(ReportID);
        });

        $("#CtabNew").on("change", "select#Suppliers", function () {
            var curselect = $(this);
            $("input[type='hidden'][id='SupplierIds']").val($(curselect).val());

        });

        $("#CtabNew").on("change", "input[type='checkbox'][name='chkAttachmentTypes']", function () {
            var selevals = new Array();
            $("input[type='checkbox'][name='chkAttachmentTypes']:checked").each(function (indx, curobj) {
                selevals.push($(curobj).val());
            });
            $("input#AttachmentTypes").val(selevals.toString());
        });

        @*$("#CtabNew").on({
            focus: function (event) {
                var thistxt = $(this);
                if (progresss == "completed") {
                    progresss = "running";
                    SetAutoCompleteOpenOnFocus($(thistxt), '@Url.Action("GetAllSchedules", "Notification")', null, " ");
                }
            },
            change: function (event) {
                var thistxt = $(this);
                $('#DivLoading').show();
                setTimeout(function () {
                    LoadScheduleparams($(thistxt).val(), false);
                }, 10);


            },
            keydown: function (event) {
                $("#dvParams").hide();
            }


        }, "input[type='text'][id='ScheduleName']");*@

        $('#myDataTable').on('tap click', 'a[id="lnkEditNtfctn"]', function () {
            var ID = $(this).parent().find("input[name='hdnID']").val();
            var currentTR = $(this).parent().parent()[0];
            var aPos = oTable.fnGetPosition($(this).parent()[0]);
            var aData = oTable.fnGetData(aPos[0]);
            aData.CompanyName = "false";
            ShowEditTabNotification('NotificationConfigurationAlertEdit/' + ID, 'frmNotificationConfigAlert', aData);
            return false;
        });
        $('#myDataTable').on('tap click', 'a[id="lnkCopy"]', function () {
            var ID = $(this).parent().parent().find("input[name='hdnID']").val();
            var currentTR = $(this).parent().parent()[0];
            var aPos = oTable.fnGetPosition($(this).parent()[0]);
            var aData = oTable.fnGetData(aPos[0]);
            var actiontupess = "NotificationConfigurationAlertEdit/" + ID;
            aData.CompanyName = "true";
            ShowEditTabNotification(actiontupess, 'frmNotificationConfigAlert', aData);
            return false;
        });
    });
    function SetScheduleForFields(ScheduleFor, NotificationID) {
        $("#ScheduleFor").val(ScheduleFor);

        if (ScheduleFor == 6) {
            $("li#liReportAttachments").show();
            $("li#liNotificationMode5").hide();
            $("li#liNotificationMode6").show();

            if ($("select#AttachmentReportIDs").val() != '' && NotificationID != '') {

                // ShowSortDropdown();
                // $("select#SortFieldFirstOrder").html('');
                // $("select#SortFieldSecondOrder").html('');
                // $("select#SortFieldThirdOrder").html('');
                // $("select#SortFieldFourthOrder").html('');
                // $("select#SortFieldFifthOrder").html('');
                // $("select#SortFieldFirstValue").html('');
                // $("select#SortFieldSecondValue").html('');
                // $("select#SortFieldThirdValue").html('');
                // $("select#SortFieldFourthValue").html('');
                // $("select#SortFieldFifthValue").html('');
                $("select#EmailTemplateToken").html('');
                $("select#EmailTemplateToken").html('');

                var templatedID = $("select#drpNotificationName").val();
                if (isNaN(templatedID) || templatedID == undefined || templatedID < 0)
                    templatedID = 0;
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTokenReportWise", "Notification")',
                    contentType: 'application/json',
                    dataType: 'json',
                    //data: "{TemplateId:'" + parseInt($("select#drpNotificationName").val()) + "',ReportID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "'}",
                    data: "{TemplateId:'" + parseInt(templatedID) + "',ReportID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "',isBothApplay: '" + false + "'}",
                    success: function (Result) {

                        $.each(Result.lstSortList, function (key, value) {
                            $("select#EmailTemplateToken").append($("<option></option>").val(value.key).html(value.value));
                        });
                        if (parseInt(templatedID) == @Convert.ToInt32(MailTemplate.RequisitionApproveReject)
                             || parseInt(templatedID) == @Convert.ToInt32(MailTemplate.OrderApproveReject)) {
                            $("#divApproverRequestertitle").show();
                            $("#divApproverRequesterNote").show();
                        }
                        else {
                            $("#divApproverRequestertitle").hide();
                            $("#divApproverRequesterNote").hide();
                        }
                    }
                });

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetSortFieldsReportWise", "Notification")',
                    contentType: 'application/json',
                    dataType: 'json',
                    data: "{TemplateId:'" + parseInt($("select#AttachmentReportIDs").val()) + "',NotificationID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "'}",
                    success: function (Result) {

                        ShowSortDropdown();
                        $.each(Result.lstSortList, function (key, value) {
                            $("select#SortFieldFirstValue").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldSecondValue").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldThirdValue").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldFourthValue").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldFifthValue").append($("<option></option>").val(value.key).html(value.value));
                        });
                        $.each(Result.lstSortOrder, function (key, value) {
                            $("select#SortFieldFirstOrder").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldSecondOrder").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldThirdOrder").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldFourthOrder").append($("<option></option>").val(value.key).html(value.value));
                            $("select#SortFieldFifthOrder").append($("<option></option>").val(value.key).html(value.value));
                        });
                        if ((Result.objNotificationDTO.ReportMasterDTO != null && Result.objNotificationDTO.ReportMasterDTO.ReportType == "2") ||
                        Result.objNotificationDTO.AttachedReportMasterDTO != null && Result.objNotificationDTO.AttachedReportMasterDTO.ReportType == "2") {
                            $("li#HideHeaderLI").hide();
                            $("input#HideHeader").attr("disabled", "disabled");
                            $("input#HideHeader").removeAttr("checked");
                        }
                        else {
                            $("li#HideHeaderLI").show();
                            $("input#HideHeader").removeAttr("disabled");
                        }
                        if ((Result.objNotificationDTO.ReportMasterDTO != null && Result.objNotificationDTO.ReportMasterDTO.IsNotEditable == true)) {
                            $("li#HideHeaderLI").hide();
                            $("input#HideHeader").attr("disabled", "disabled");
                            $("input#HideHeader").removeAttr("checked");
                        }
                        var FirstValue, FirstSort, SecondValue, SecondSort, ThirdValue, ThirdSort, FourthValue, FourSort, FifthValue, FifthSort;
                        FirstValue = Result.objNotificationDTO.SortFieldFirstValue;
                        FirstSort = Result.objNotificationDTO.SortFieldFirstOrder;
                        SecondValue = Result.objNotificationDTO.SortFieldSecondValue;
                        SecondSort = Result.objNotificationDTO.SortFieldSecondOrder;
                        ThirdValue = Result.objNotificationDTO.SortFieldThirdValue;
                        ThirdSort = Result.objNotificationDTO.SortFieldThirdOrder;
                        FourthValue = Result.objNotificationDTO.SortFieldFourthValue;
                        FourSort = Result.objNotificationDTO.SortFieldFourthOrder;
                        FifthValue = Result.objNotificationDTO.SortFieldFifthValue;
                        FifthSort = Result.objNotificationDTO.SortFieldFifthOrder;

                        if (FirstValue != '') {
                            $("select#SortFieldFirstValue").val(FirstValue);
                            $("select#SortFieldFirstOrder").val(FirstSort);
                        }
                        if (SecondValue != '') {
                            $("select#SortFieldSecondValue").val(SecondValue);
                            $("select#SortFieldSecondOrder").val(SecondSort);
                        }
                        if (ThirdValue != '') {
                            $("select#SortFieldThirdValue").val(ThirdValue);
                            $("select#SortFieldThirdOrder").val(ThirdSort);
                        }
                        if (FourthValue != '') {
                            $("select#SortFieldFourthValue").val(FourthValue);
                            $("select#SortFieldFourthOrder").val(FourSort);
                        }
                        if (FifthValue != '') {
                            $("select#SortFieldFifthValue").val(FifthValue);
                            $("select#SortFieldFifthOrder").val(FifthSort);
                        }
                        SetSortFields();

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetModuleNameByReportId", "Reportbuilder")',
                            contentType: 'application/json',
                            data: "{TemplateId:'" + parseInt($("select#AttachmentReportIDs").val()) + "',NotificationID:'" + parseInt(NotificationID) + "'}",
                            success: function (response) {

                                $('input#hdnModuleName').val(response);
                                if (response != null && response != '' && (response == "Consume_Requisition" || response == "Range-Consume_Requisition")) {
                                    $("#liRequisitionStatus").show();
                                    $("#liWOStatus").show();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    BindStatus(response, $("input#Status").val());
                                    BindWOStatus("WorkOrder", $("input#WOStatus").val());
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else if (response != null && response != '' && response == "WorkOrder") {
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    BindWOStatus(response, $("input#WOStatus").val());
                                    $("#liWOStatus").show();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liRequisitionStatus").hide();
                                    $("#liQuantityType").show();
                                    if ((parseInt(NotificationID) || 0) < 1) {
                                        //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                        //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                        $("#ddlQuantityType").multiselect("refresh");
                                        $("#ddlQuantityType").multiselect("reload");
                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);
                                    }
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else if (response != null && response != '' && response == "Order") {
                                    BindOrderStatus(response, $("input#OrderStatus").val());
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").show();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else if (response != null && response != '' && response == "Replenish_Order") {
                                    BindOrderLineItemStatus(response, $("input#OrderStatus").val());
                                    $("#liOrderWithLineItemStatus").show();
                                    $("#liOrderStatus").hide();
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    var ParentReportName = "";
                                    if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                                        ParentReportName = $("#ParentReportName").val();
                                    }
                                    if (ParentReportName == "Order Item Summary") {
                                        $("#liExcludeZeroOrdQty").show();
                                    }
                                    else {
                                        $("#liExcludeZeroOrdQty").hide();
                                    }
                                }
                                else if (response != null && response != '' && response == "ExpiringItems") {
                                    $("#liOnlyExpiredItems").show();
                                    $("#liOnlyExpiredItemsDays").show();
                                    $("#liOnlyExpiredItemsOrder").show();
                                    $("#liOnlyExpiredItemsDate").show();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liRequisitionStatus").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else if (response != null && response != '' && response == "Tool") {
                                    $("#liOnlyAvailableTools").show();
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else if (response != null && response != '' && ((response.toLowerCase() == "consume_pull") || (response.toLowerCase() == "not consume_pull"))) {

                                    $("#ddlQuantityType").multiselect("refresh");
                                    $("#ddlQuantityType").multiselect({
                                        noneSelectedText: 'Quantity Type', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return 'Quantity Type' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='" + ui.value + "']").attr("selected", 1);
                                            // SetLabelText('lblselectedRoom', 'ddlStatus');

                                            var SelectedStatusID = getSelectedID('ddlQuantityType');
                                            $("body").find("input#QtyType").val(SelectedStatusID);


                                        }
                                        else {

                                            var SelectedStatusID = getSelectedID('ddlQuantityType');
                                            $("body").find("input#QtyType").val(SelectedStatusID);


                                        }
                                    });

                                    var objExistselect = $("input#QtyType").val().split(',');
                                    var x = document.getElementById("ddlQuantityType");


                                    for (var i = 0; i < objExistselect.length; i++) {

                                        //    for (var j = 0; j < objList.length; j++) {

                                        //      if (objList[j].key == objExistselect[i]) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlQuantityType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlQuantityType").multiselect("refresh");

                                            }
                                        }
                                    }
                                    $("#liQuantityType").show();
                                    if ((parseInt(NotificationID) || 0) < 1) {
                                        //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                        //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                        $("#ddlQuantityType").multiselect("refresh");
                                        $("#ddlQuantityType").multiselect("reload");
                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);
                                    }
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                                        ParentReportName = $("#ParentReportName").val();
                                    }
                                    if (ParentReportName === "Pull Summary" || ParentReportName === "Pull Summary by Quarter") {
                                        $("#liUsageType").show();
                                        $("select#ddlUsageType").val($('#UsageType').val());

                                        $("#ddlItemStatus").multiselect("refresh");
                                        $("#ddlItemStatus").multiselect({
                                            noneSelectedText: 'Item Status', selectedList: 5,
                                            selectedText: function (numChecked, numTotal, checkedItems) {
                                                return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                            }
                                        }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                            if (ui.checked) {
                                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                                $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                FillModuleItem();
                                            }
                                            else {
                                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                FillModuleItem();
                                            }
                                        });

                                        var objExistselect = $("input#ItemStatus").val().split(',');
                                        var x = document.getElementById("ddlItemStatus");

                                        for (var i = 0; i < objExistselect.length; i++) {
                                            for (j = 0; j < x.options.length; j++) {

                                                if (x.options[j].value == objExistselect[i]) {
                                                    $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                    $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                    $("#ddlItemStatus").multiselect("refresh");
                                                }
                                            }
                                        }
                                        $("#liItemStatus").show();

                                        if (ParentReportName === "Pull Summary by Quarter")
                                        {
                                            $("#liItemWithZeroPullUsage").show();
                                        }
                                    }
                                    else {
                                        $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                        $("#liItemStatus").hide();
                                    }

                                    //$("#liItemStatus").hide();


                                    $("#liOnlyAvailableTools").hide();
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liAppliedFilter").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();

                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else if (response != null && response != '' && response == 'CountMaster') {
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").show();
                                    $("select#ddlAppliedFilter").val($('#CountAppliedFilter').val());


                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else if (response != null && response != '' && (response == 'InStockByBin' || response == 'InStockByActivity' || response == 'InStockByBinMargin' || response == 'InStockWithQOH')) {
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();

                                    $("#liAppliedFilter").hide();
                                  //  BindFilterQOHDDL(response, $("input#FilterQOH").val());
                                  //  BindFilterReportRange(parseInt($("select#AttachmentReportIDs").val()), parseInt(NotificationID), $("input#ReportRange").val());


                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();

                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                    /* WI-6599 Changes for InStock Schedule start */
                                    var TemplateName = "";
                                    if (typeof ($("#hdnTemplateName")) != undefined && $("#hdnTemplateName") != null) {
                                        TemplateName = $("#hdnTemplateName").val();
                                    }

                                    if (TemplateName == "ItemStockOut") {
                                        $("#ddlItemStatus").multiselect("refresh");
                                        $("#ddlItemStatus").multiselect({
                                            noneSelectedText: 'Item Status', selectedList: 5,
                                            selectedText: function (numChecked, numTotal, checkedItems) {
                                                return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                            }
                                        }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                            if (ui.checked) {
                                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                                $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                                            }
                                            else {
                                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                                            }
                                        });

                                        var objExistselect = $("input#ItemStatus").val().split(',');
                                        var x = document.getElementById("ddlItemStatus");
                                        if (NotificationID <= 0) {
                                            for (j = 0; j < x.options.length; j++) {
                                                if (x.options[j].value == "1") {
                                                    $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                    $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                    $("#ddlItemStatus").multiselect("refresh");
                                                    var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                    $("body").find("input#ItemStatus").val(SelectedStatusID);
                                                }
                                            }
                                        }

                                        for (var i = 0; i < objExistselect.length; i++) {
                                            for (j = 0; j < x.options.length; j++) {

                                                if (x.options[j].value == objExistselect[i]) {
                                                    $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                    $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                    $("#ddlItemStatus").multiselect("refresh");
                                                }
                                            }
                                        }
                                        $("#liItemStatus").show();
                                    }
                                    else {
                                        $("#liItemStatus").hide();
                                    }
                                    /* WI-6599 Changes for InStock Schedule End */

                                }
                                else if (response != null && response != '' && (response == 'Cart')) {
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                    $("#ddlCartType").multiselect("refresh");
                                    $("#ddlCartType").multiselect({
                                        noneSelectedText: 'Cart Type', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return 'Cart Type' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlCartType option[value='" + ui.value + "']").attr("selected", 1);

                                            var SelectedCartType = getSelectedID('ddlCartType');
                                            $("body").find("input#CartType").val(SelectedCartType);
                                        }
                                        else {
                                            var SelectedCartType = getSelectedID('ddlCartType');
                                            $("body").find("input#CartType").val(SelectedCartType);
                                        }
                                    });

                                    var objExistselect = $("input#CartType").val().split(',');
                                    var x = document.getElementById("ddlCartType");

                                    for (var i = 0; i < objExistselect.length; i++) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlCartType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlCartType").multiselect("refresh");
                                            }
                                        }
                                    }

                                    $("#liCartType").show();
                                    $("#liMoveType").hide();
                                }
                                    else if (response != null && response != '' && (response == 'MoveMaterial')) {
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                    $("#ddlItemStatus").multiselect("refresh");
                                    $("#ddlItemStatus").multiselect({
                                        noneSelectedText: 'Item Status', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        }
                                        else {
                                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        }
                                    });

                                    var objExistselect = $("input#ItemStatus").val().split(',');
                                    var x = document.getElementById("ddlItemStatus");
                                    if (NotificationID <= 0) {
                                        for (j = 0; j < x.options.length; j++) {
                                            if (x.options[j].value == "1") {
                                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlItemStatus").multiselect("refresh");
                                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                                            }
                                        }
                                    }

                                    for (var i = 0; i < objExistselect.length; i++) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlItemStatus").multiselect("refresh");
                                            }
                                        }
                                    }
                                    $("#liItemStatus").show();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").show();
                                    $("#liReportRangeData").show();
                                    $("#liRRSelectAll").show();
                                    $("#liInstockOnlyExpItems").hide();

                                    $("#ddlMoveType").multiselect("refresh");
                                    $("#ddlMoveType").multiselect({
                                        noneSelectedText: '@ResSchedulerReportList.MoveType', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return '@ResSchedulerReportList.MoveType' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlMoveType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlMoveType option[value='" + ui.value + "']").attr("selected", 1);

                                            var SelectedMoveType = getSelectedID('ddlMoveType');
                                            $("body").find("input#MoveType").val(SelectedMoveType);
                                            FillModuleItem();
                                        }
                                        else {
                                            var SelectedMoveType = getSelectedID('ddlMoveType');
                                            $("body").find("input#MoveType").val(SelectedMoveType);
                                            FillModuleItem();
                                        }
                                    });

                                    var objExistselect = $("input#MoveType").val().split(',');
                                    var x = document.getElementById("ddlMoveType");

                                    for (var i = 0; i < objExistselect.length; i++) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlMoveType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlMoveType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlMoveType").multiselect("refresh");
                                            }
                                        }
                                    }

                                    $("#liMoveType").show();
                                }
                                else {
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                            }
                        });
                        //alert(Result.lstSortList);
                        //alert(Result.lstSortOrder);
                        //alert(Result.objNotificationDTO.SortFieldFifthOrder);

                    },
                    error: function (err) {

                    }
                });

            }
            ///sdafdsafdsfdsafdsafdsafdsafsdfdsaf
            setTimeout(function () { bindSuppliers(); }, 500);

        }
        else if (ScheduleFor == 5) {

            $("li#liReportAttachments").hide();
            $("li#liNotificationMode5").show();
            $("li#liNotificationMode6").hide();
            ShowSortDropdown();
            setTimeout(function () { bindSuppliers(); }, 500);
        }

    }
    function ShowHideImmediateButton() {

        //if ($.trim($("#NotificationName option:selected").text().toLowerCase()) == "forgotpassword" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "itemqtyadjust" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "itemreceipt" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "itemstockout" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "orderapproval" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "orderapprovereject" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "requisitionapproval" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "requisitionapprovereject" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "evmiproblems" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "suggestedorderscritical" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "transferapproval" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "transferapprovereject" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "ordertosupplier" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "suggestedordersminimum" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "returnorderapproval" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "returnorderapprovereject" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "returnordertosupplier" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "suggestedorders" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "createnewuser" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "countapplymail" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "discrepancyaftersync" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "cyclecountemail" ||
        //   $.trim($("#NotificationName option:selected").text().toLowerCase()) == "cyclecountitemsmissed" ||
        //    $.trim($("#NotificationName option:selected").text().toLowerCase()) == "projectspendlimitabouttoexceed" ||
        //    $.trim($("#NotificationName option:selected").text().toLowerCase()) == "projectspendlimitexceed" ||
        //    $.trim($("#NotificationName option:selected").text().toLowerCase()) == "orderunsubmitted" ||
        //    $.trim($("#NotificationName option:selected").text().toLowerCase()) == "consignedbatchpull" ||
        //    $.trim($("#NotificationName option:selected").text().toLowerCase()) == "toolassetorderapproval" ||
        //    $.trim($("#NotificationName option:selected").text().toLowerCase()) == "toolassetorderapprovereject" ||
        //    $.trim($("#NotificationName option:selected").text().toLowerCase()) == "toolassetorderunsubmitted") {
        //    $("input#rdoScheduleModeImmediate").show();
        //    $("input#rdoScheduleModeImmediate").next("label").show();
        //}
        //else {
        //    $("input#rdoScheduleModeImmediate").prop('checked', false);
        //    $("input#rdoScheduleModeImmediate").hide();
        //    $("input#rdoScheduleModeImmediate").next("label").hide();

        //}
    }

    function SetHelpDocVideoByID(ReportID)
    {

        $.ajax({
            url: '@Url.Action("GetHelpDocumentDetailByReportID", "HelpDocument")',
            data: { "ReportID": ReportID },
            type: "Get",
            dataType: 'json',
            async: false,
            cache: false,
            success: function (data) {
                if (data.vIsDocHelp != null && data.vIsDocHelp != undefined && data.vIsDocHelp != ""
                    && data.vlstHelpDtlDTO != null && data.vlstHelpDtlDTO.length > 0) {
                    var DocCount = 0;
                    for (var i = 0; i < data.vlstHelpDtlDTO.length; i++) {
                        if (data.vlstHelpDtlDTO[i].IsDoc == true || data.vlstHelpDtlDTO[i].IsDoc == 'True') {
                            DocCount = DocCount + 1;
                        }
                    }
                    if (DocCount > 1) {
                        $("#imgNotificationInfoDoc").removeAttr("onclick");
                        $('#divSubNotificationPDFURL').attr("style", "display:visible");
                        var Dochtml = '<ul class="sub_subMenu">';
                        var hasData = false;
                        for (var i = 0; i < data.vlstHelpDtlDTO.length; i++) {
                            if (data.vlstHelpDtlDTO[i].IsDoc == true || data.vlstHelpDtlDTO[i].IsDoc == 'True') {
                                hasData = true;
                                var DocName = data.vlstHelpDtlDTO[i].ModuleDocNoExt;
                                var Docpath = data.vlstHelpDtlDTO[i].ModuleDocPath;
                                Dochtml += '<li><a id="aNotificationPDFURL" href="' + Docpath + '" target="_blank">' + DocName + '</a></li>';
                            }
                        }
                        if (hasData == true) {
                            Dochtml += '</ul>';
                            $('#divNotificationPDFURL').attr("style", "display:visible");
                            $('#divSubNotificationPDFURL').html('');
                            $('#divSubNotificationPDFURL').html(Dochtml);
                        }
                        else {
                            $('#divNotificationPDFURL').attr("style", "display:none");
                        }
                    }
                    else {
                        $('#divSubNotificationPDFURL').attr("style", "display:none");
                        $('#divNotificationPDFURL').attr("style", "display:visible");
                        for (var i = 0; i < data.vlstHelpDtlDTO.length; i++) {
                            if (data.vlstHelpDtlDTO[i].IsDoc == true || data.vlstHelpDtlDTO[i].IsDoc == 'True') {
                                var DocName = data.vlstHelpDtlDTO[i].ModuleDocNoExt;
                                var Docpath = data.vlstHelpDtlDTO[i].ModuleDocPath;
                                $("#imgNotificationInfoDoc").attr("onclick", "return window.open('" + Docpath + "', '_blank');");
                            }
                        }
                    }
                }
                else {
                    $('#divNotificationPDFURL').attr("style", "display:none");
                }

                if (data.vIsVideoHelp != null && data.vIsVideoHelp != undefined && data.vIsVideoHelp != ""
                    && data.vlstHelpDtlDTO != null && data.vlstHelpDtlDTO.length > 0) {

                    var VideoCount = 0;
                    for (var i = 0; i < data.vlstHelpDtlDTO.length; i++) {
                        if (data.vlstHelpDtlDTO[i].IsVideo == true || data.vlstHelpDtlDTO[i].IsVideo == 'True') {
                            VideoCount = VideoCount + 1;
                        }
                    }
                    if (VideoCount > 1) {
                        $("#imgNotificationInfoVideo").removeAttr("onclick");
                        $('#divSubNotificationVideoURL').attr("style", "display:visible");
                        var Dochtml = '<ul class="sub_subMenu">';
                        var hasData = false;
                        for (var i = 0; i < data.vlstHelpDtlDTO.length; i++) {
                            if (data.vlstHelpDtlDTO[i].IsVideo == true || data.vlstHelpDtlDTO[i].IsVideo == 'True') {
                                hasData = true;
                                var VideoName = data.vlstHelpDtlDTO[i].ModuleVideoNoExt;
                                var Videopath = data.vlstHelpDtlDTO[i].ModuleVideoPath;
                                if (Videopath != '' && Videopath != undefined) {
                                    Videopath = Videopath.replace("../Uploads/HelpDoc/", "");
                                }
                                Dochtml += '<li><a id="aNotificationVideoURL" href="#" target="_blank" onclick="return OpenReportVideo(\'' + Videopath + '\',\'' + VideoName + '\')">' + VideoName + '</a></li>';
                            }
                        }
                        if (hasData == true) {
                            Dochtml += '</ul>';
                            $('#divNotificationVideoURL').attr("style", "display:visible");
                            $('#divSubNotificationVideoURL').html('');
                            $('#divSubNotificationVideoURL').html(Dochtml);
                        }
                        else {
                            $('#divNotificationVideoURL').attr("style", "display:none");
                        }
                    }
                    else {
                        $('#divSubNotificationVideoURL').attr("style", "display:none");
                        $('#divNotificationVideoURL').attr("style", "display:visible");
                        for (var i = 0; i < data.vlstHelpDtlDTO.length; i++) {
                            if (data.vlstHelpDtlDTO[i].IsVideo == true || data.vlstHelpDtlDTO[i].IsVideo == 'True') {
                                var VideoName = data.vlstHelpDtlDTO[i].ModuleVideoNoExt;
                                var Videopath = data.vlstHelpDtlDTO[i].ModuleVideoPath;
                                if (Videopath != '' && Videopath != undefined) {
                                    Videopath = Videopath.replace("../Uploads/HelpDoc/", "");
                                }
                                $("#imgNotificationInfoVideo").attr("onclick", "return OpenReportVideo('" + Videopath + "', '" + VideoName + "');");
                            }
                        }
                    }
                }
                else {
                    $('#divNotificationVideoURL').attr("style", "display:none");
                }
            }
        });

    }

    function GetEmailTemplateDetails(templateID, NotificationID, ScheduleFor, RptID) {

        vTemplateID = templateID;
        vNotificationID = NotificationID;
        //if (templateID == 21 || templateID == 10 || templateID == 36) {
        //if (templateID == 10) {
        //    $("#spnSupplierNote").show();
        //    $("#Suppliers").removeProp("multiple");
        //    $("div#checkalldiv").hide();
        //}
        //else {
            $("#spnSupplierNote").hide();
            $("#Suppliers").prop("multiple", "multiple");
            $("div#checkalldiv").show();
        //}
        if (RptID == null || RptID == undefined || RptID == "" || RptID == "undefined") {
            RptID = 0;
        }
        $.ajax({
            type: "POST",
            url: '@Url.Action("GetEmailTemplateDetails", "Notification")',
            contentType: 'application/json',
            dataType: 'json',
            data: "{TemplateId:'" + parseInt(templateID) + "',NotificationID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "',RptID:'" + parseInt(RptID) + "'}",
            success: function (response) {
                var pReportName = '';
                var grepedArray = new Array();
                arrEmailTemplateDtl = new Array();
                $(response.EmailTemplateDetails).each(function (indx, obj) {
                    arrEmailTemplateDtl.push({ CultureCode: obj.CultureCode, MailSubject: obj.MailSubject, MailBodyText: escape(obj.MailBodyText) });
                });

                if (arrEmailTemplateDtl.length > 0) {
                    grepedArray = jQuery.grep(arrEmailTemplateDtl, function (arritm, i) {
                        return (arritm.CultureCode == $("#CultureCode").val());
                    });

                    if (grepedArray.length > 0) {
                        CKEDITOR.instances.txtTemplate.setData(unescape(grepedArray[0].MailBodyText));
                        $("#EmailSubject").val(grepedArray[0].MailSubject);
                    }
                    else {
                        CKEDITOR.instances.txtTemplate.setData("");
                        $("#EmailSubject").val("");
                    }
                }
                else {
                    CKEDITOR.instances.txtTemplate.setData("");
                    $("#EmailSubject").val("");
                }

                if (response.ParentReportName != null && response.ParentReportName.length > 0) {
                    pReportName = response.ParentReportName;

                    if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                        $("#ParentReportName").val(pReportName);
                    }
                }

                if (response.AlertReportConfig != null && response.AlertReportConfig != 'undefined') {
                    if (typeof (response.AlertReportConfig.EmailTemplateName) != "undefined"
                        && response.AlertReportConfig.EmailTemplateName != null) {
                        $("input#hdnTemplateName").val(response.AlertReportConfig.EmailTemplateName);
                    }
                    if (response.AlertReportConfig.AllowScheduleIMM == true) {
                        $("input#rdoScheduleModeImmediate").show();
                        $("input#rdoScheduleModeImmediate").next("label").show();
                    }
                    else {
                        $("input[type='hidden'][id='ActionCodes']").val("");
                        $("input#rdoScheduleModeImmediate").prop('checked', false);
                        $("input#rdoScheduleModeImmediate").hide();
                        $("input#rdoScheduleModeImmediate").next("label").hide();
                    }

                    $("#IsSupplierRequired").val(response.AlertReportConfig.IsSupplierRequired);
                    $("#IsDateRangeRequired").val(response.AlertReportConfig.IsDateRangeRequired);

                    if (response.AlertReportConfig.AllowAttachmentSelection == true) {
                        $("#liReportAttachments").show();
                        $("#liAttachmentTypes,input#chkPDF,input#chkExcell").show();
                        $("input#chkPDF,input#chkExcell").next("label").show();
                        //$("input#chkExcell").show();
                        //$("input#chkExcell").next("label").show();
                    }
                    else {
                        $("#liReportAttachments").hide();
                    }

                    if (response.AlertReportConfig.AllowedAttahmentReportsWithChild != null && response.AlertReportConfig.AllowedAttahmentReportsWithChild.length > 0 && response.AlertReportConfig.AllowedAttahmentReportsWithChild != "undefined") {

                        if ($('#ScheduleFor').val() == "6") {

                            var tmpnotificationId = $("#ID").val();

                            if ((parseInt(tmpnotificationId) || 0) < 1) {
                                var $options = $("#ddlAttachmentReports > option").clone();
                                $('select#AttachmentReportIDs').html('');
                                if (typeof ($options) != "undefined" && $options != null && $options.length > 0 && typeof ($options[0]) != "undefined" && $options[0] != null) {
                                    $('select##AttachmentReportIDs').append($options);
                                }
                            }

                            var splitString = response.AlertReportConfig.AllowedAttahmentReportsWithChild.split(',');
                            $('select#AttachmentReportIDs').find('option').each(function () {
                                var cnt = 0;
                                for (var i = 0; i < splitString.length; i++) {
                                    var stringPart = splitString[i];
                                    if (stringPart == $(this).val()) {
                                        cnt++;
                                    }
                                }

                                if ($(this).val() != "" && ($('#hdnAttachmentReportIDs').val() != $(this).val()) && cnt <= 0) {
                                    $(this).remove();
                                }
                            });
                        }
                    }
                    else {

                        if (ScheduleFor == "6") {
                            var tmpnotificationId = $("#ID").val();
                            if ((parseInt(tmpnotificationId) || 0) < 1) {
                                $('select#AttachmentReportIDs').html('');
                                var $options = $("#ddlAttachmentReports > option").clone();

                                if (typeof ($options) != "undefined" && $options != null && $options.length > 0 && typeof ($options[0]) != "undefined" && $options[0] != null) {
                                    $('select##AttachmentReportIDs').append($options[0]);
                                }
                            }
                        }
                    }
                }

                if (response.IsInStockReport == true) {
                    $("#rbtnReportDataSelectionTypeOne").attr('checked', false);
                    $("#rbtnReportDataSelectionTypeOne").attr('previousValue', false);

                    $("#rbtnReportDataSelectionTypeTwo").attr('checked', false);
                    $("#rbtnReportDataSelectionTypeTwo").attr('previousValue', false);

                    $("#rbtnReportDataSelectionTypeThree").attr('checked', false);
                    $("#rbtnReportDataSelectionTypeThree").attr('previousValue', false);

                    $("#rbtnReportDataSelectionTypeOne").attr('disabled', true);
                    $("#rbtnReportDataSelectionTypeTwo").attr('disabled', true);
                    $("#rbtnReportDataSelectionTypeThree").attr('disabled', true);
                }
                else {
                    $("#rbtnReportDataSelectionTypeOne").attr('disabled', false);
                    $("#rbtnReportDataSelectionTypeTwo").attr('disabled', false);
                    $("#rbtnReportDataSelectionTypeThree").attr('disabled', false);

                }

                if (ScheduleFor == "5") {
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetModuleNameByReportId", "Reportbuilder")',
                        contentType: 'application/json',
                        data: "{TemplateId:'" + parseInt(templateID) + "',NotificationID:'" + parseInt(NotificationID) + "'}",
                        success: function (response) {

                            $('input#hdnModuleName').val(response);
                            if (response != null && response != '' && (response == "Consume_Requisition" || response == "Range-Consume_Requisition")) {
                                $("#liRequisitionStatus").show();
                                $("#liWOStatus").show();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                BindStatus(response, $("input#Status").val());
                                BindWOStatus("WorkOrder", $("input#WOStatus").val());
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();

                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "WorkOrder") {

                                BindWOStatus(response, $("input#WOStatus").val());

                                $("#ddlQuantityType").multiselect("refresh");
                                $("#ddlQuantityType").multiselect({
                                    noneSelectedText: 'Quantity Type', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Quantity Type' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='" + ui.value + "']").attr("selected", 1);
                                        // SetLabelText('lblselectedRoom', 'ddlStatus');

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                    else {

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                });

                                var objExistselect = $("input#QtyType").val().split(',');
                                var x = document.getElementById("ddlQuantityType");


                                for (var i = 0; i < objExistselect.length; i++) {

                                    //    for (var j = 0; j < objList.length; j++) {

                                    //      if (objList[j].key == objExistselect[i]) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("refresh");

                                        }
                                    }
                                }

                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").show();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").show();
                                if ((parseInt(NotificationID) || 0) < 1) {
                                    //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                    //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("refresh");
                                    $("#ddlQuantityType").multiselect("reload");
                                    var SelectedStatusID = getSelectedID('ddlQuantityType');
                                    $("body").find("input#QtyType").val(SelectedStatusID);
                                }
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();

                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "Order") {

                                BindOrderStatus(response, $("input#OrderStatus").val());
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").show();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "Replenish_Order") {
                                BindOrderLineItemStatus(response, $("input#OrderStatus").val());
                                $("#liOrderWithLineItemStatus").show();
                                $("#liOrderStatus").hide();
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                if (pReportName === "Order Item Summary") {
                                    BindFilterReportRange(parseInt(templateID), parseInt(NotificationID), $("input#ReportRange").val());
                                    FillModuleItem();

                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liReportRange").show();
                                    $("#liReportRangeData").show();
                                    $("#liRRSelectAll").show();
                                    $("#liExcludeZeroOrdQty").show();
                                }
                                else {
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                            }
                            else if (response != null && response != '' && response == "WorkorderList") {
                                BindFilterReportRange(parseInt(templateID), parseInt(NotificationID), $("input#ReportRange").val());
                                FillModuleItem();
                                $("#liReportRange").show();
                                $("#liReportRangeData").show();
                                $("#liRRSelectAll").show();

                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();
                                $("#liMonthlyAvg").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != ''
                                && response == "Range-Receive"
                                && pReportName === "Received Items More Than Approved") {
                                BindFilterReportRange(parseInt(templateID), parseInt(NotificationID), $("input#ReportRange").val());
                                FillModuleItem();
                                $("#liReportRange").show();
                                $("#liReportRangeData").show();
                                $("#liRRSelectAll").show();

                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();
                                $("#liMonthlyAvg").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "ExpiringItems") {
                                $("#liOnlyExpiredItems").show();
                                $("#liOnlyExpiredItemsDays").show();
                                $("#liOnlyExpiredItemsOrder").show();
                                $("#liOnlyExpiredItemsDate").show();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liRequisitionStatus").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();

                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "Tool") {
                                $("#liOnlyAvailableTools").show();
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && ((response.toLowerCase() == "consume_pull") || (response.toLowerCase() == "not consume_pull"))) {
                                $("#ddlQuantityType").multiselect("refresh");
                                $("#ddlQuantityType").multiselect({
                                    noneSelectedText: 'Quantity Type', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Quantity Type' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='" + ui.value + "']").attr("selected", 1);
                                        // SetLabelText('lblselectedRoom', 'ddlStatus');

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                    else {

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                });

                                var objExistselect = $("input#QtyType").val().split(',');
                                var x = document.getElementById("ddlQuantityType");


                                for (var i = 0; i < objExistselect.length; i++) {

                                    //    for (var j = 0; j < objList.length; j++) {

                                    //      if (objList[j].key == objExistselect[i]) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("refresh");

                                        }
                                    }
                                }
                                $("#liQuantityType").show();
                                if ((parseInt(NotificationID) || 0) < 1) {
                                    //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                    //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("refresh");
                                    $("#ddlQuantityType").multiselect("reload");
                                    var SelectedStatusID = getSelectedID('ddlQuantityType');
                                    $("body").find("input#QtyType").val(SelectedStatusID);
                                }
                                $("#liCartType").hide();
                                $("#liMoveType").hide();

                                if (pReportName === "Pull Summary" || pReportName === "Pull Summary by Quarter") {

                                    $("#liUsageType").show();
                                    $("select#ddlUsageType").val($('#UsageType').val());
                                    $("#ddlItemStatus").multiselect("refresh");
                                    $("#ddlItemStatus").multiselect({
                                        noneSelectedText: 'Item Status', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                                            FillModuleItem();
                                        }
                                        else {
                                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                                            FillModuleItem();
                                        }
                                    });

                                    var objExistselect = $("input#ItemStatus").val().split(',');
                                    var x = document.getElementById("ddlItemStatus");

                                    for (var i = 0; i < objExistselect.length; i++) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlItemStatus").multiselect("refresh");
                                            }
                                        }
                                    }
                                    $("#liItemStatus").show();

                                    if (pReportName === "Pull Summary by Quarter")
                                    {
                                        $("#liItemWithZeroPullUsage").show();
                                    }
                                }
                                else {
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                }

                                //$("#liItemStatus").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liAppliedFilter").hide();
                                $("#liExcludeZeroOrdQty").hide();
                                if (response.toLowerCase() == "consume_pull") {
                                    BindFilterReportRange(parseInt(templateID), parseInt(NotificationID), $("input#ReportRange").val());
                                    FillModuleItem();


                                    $("#liReportRange").show();
                                    $("#liReportRangeData").show();
                                    $("#liRRSelectAll").show();
                                }
                                else {
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                }

                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();

                                $("#liInstockOnlyExpItems").hide();
                                $("#liincludeStockouttool").hide();
                            }
                            else if (response != null && response != '' && response == 'CountMaster') {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").show();
                                $("select#ddlAppliedFilter").val($('#CountAppliedFilter').val());


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && (response == 'InStockByBin' || response == 'InStockByActivity' || response == 'InStockByBinMargin' || response == 'InStockWithQOH')) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liAppliedFilter").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liExcludeZeroOrdQty").hide();




                                $("#ddlItemStatus").multiselect("refresh");
                                $("#ddlItemStatus").multiselect({
                                    noneSelectedText: 'Item Status', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);
                                        // SetLabelText('lblselectedRoom', 'ddlStatus');

                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();

                                    }
                                    else {

                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();


                                    }
                                });

                                var objExistselect = $("input#ItemStatus").val().split(',');
                                var x = document.getElementById("ddlItemStatus");


                                for (var i = 0; i < objExistselect.length; i++) {

                                    //    for (var j = 0; j < objList.length; j++) {

                                    //      if (objList[j].key == objExistselect[i]) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlItemStatus").multiselect("refresh");

                                        }
                                    }
                                }






                                $("#liItemStatus").show();



                                BindFilterQOHDDL(response, $("input#FilterQOH").val());

                                BindFilterReportRange(parseInt(templateID), parseInt(NotificationID), $("input#ReportRange").val());

                                FillModuleItem();


                                    $("#liMonthlyAvg").show();
                                    $("#liQtyRangeSelected").show();
                                    $("#liQtyRange").show();

                                $("#liReportRange").show();
                                $("#liReportRangeData").show();
                                $("#liRRSelectAll").show();
                                if (response == "InStockByBin") {

                                    $("#liInstockOnlyExpItems").show();
                                }
                                else {
                                    $("#liInstockOnlyExpItems").hide();
                                }
                                $("#liincludeStockouttool").hide();
                            }
                            else if (response != null && response != '' && (response == 'Cart')) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();
                                $("#liExcludeZeroOrdQty").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liincludeStockouttool").hide();
                                $("#ddlCartType").multiselect("refresh");
                                $("#ddlCartType").multiselect({
                                    noneSelectedText: 'Cart Type', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Cart Type' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlCartType option[value='" + ui.value + "']").attr("selected", 1);

                                        var SelectedCartType = getSelectedID('ddlCartType');
                                        $("body").find("input#CartType").val(SelectedCartType);
                                    }
                                    else {
                                        var SelectedCartType = getSelectedID('ddlCartType');
                                        $("body").find("input#CartType").val(SelectedCartType);
                                    }
                                });

                                var objExistselect = $("input#CartType").val().split(',');
                                var x = document.getElementById("ddlCartType");

                                for (var i = 0; i < objExistselect.length; i++) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlCartType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlCartType").multiselect("refresh");
                                        }
                                    }
                                }

                                $("#liCartType").show();
                            }
                            else if (response != null && response != '' && response.toLowerCase() == 'ToolInStock'.toLowerCase()) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").show();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response.toLowerCase() == 'inventory stock out'.toLowerCase()) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#ddlItemStatus").multiselect("refresh");
                                $("#ddlItemStatus").multiselect({
                                    noneSelectedText: 'Item Status', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                    else {
                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                });

                                var objExistselect = $("input#ItemStatus").val().split(',');
                                var x = document.getElementById("ddlItemStatus");

                                for (var i = 0; i < objExistselect.length; i++) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlItemStatus").multiselect("refresh");
                                        }
                                    }
                                }
                                $("#liItemStatus").show();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                                else if (response != null && response != '' && (response == 'MoveMaterial')) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#ddlItemStatus").multiselect("refresh");
                                $("#ddlItemStatus").multiselect({
                                    noneSelectedText: 'Item Status', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                    else {
                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                });

                                var objExistselect = $("input#ItemStatus").val().split(',');
                                var x = document.getElementById("ddlItemStatus");

                                for (var i = 0; i < objExistselect.length; i++) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlItemStatus").multiselect("refresh");
                                        }
                                    }
                                }
                                $("#liItemStatus").show();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liExcludeZeroOrdQty").hide();
                                $("#liReportRange").show();
                                $("#liReportRangeData").show();
                                $("#liRRSelectAll").show();
                                BindFilterReportRange(parseInt(templateID), parseInt(NotificationID), $("input#ReportRange").val());
                                FillModuleItem();


                                $("#liInstockOnlyExpItems").hide();
                                $("#liincludeStockouttool").hide();
                                $("#ddlMoveType").multiselect("refresh");
                                    $("#ddlMoveType").multiselect({
                                        noneSelectedText: '@ResSchedulerReportList.MoveType', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return '@ResSchedulerReportList.MoveType' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlMoveType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlMoveType option[value='" + ui.value + "']").attr("selected", 1);

                                            var SelectedMoveType = getSelectedID('ddlMoveType');
                                            $("body").find("input#MoveType").val(SelectedMoveType);
                                            FillModuleItem();
                                        }
                                        else {
                                            var SelectedMoveType = getSelectedID('ddlMoveType');
                                            $("body").find("input#MoveType").val(SelectedMoveType);
                                            FillModuleItem();
                                        }
                                    });

                                    var objExistselect = $("input#MoveType").val().split(',');
                                    var x = document.getElementById("ddlMoveType");

                                    for (var i = 0; i < objExistselect.length; i++) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlMoveType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlMoveType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlMoveType").multiselect("refresh");
                                            }
                                        }
                                    }

                                    $("#liMoveType").show();
                            }
                            else {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                        }
                    });
                }
                else {
                    $("input#ReportRangeData").val('');
                    $("#liMonthlyAvg").hide();
                    $("#liQtyRangeSelected").hide();
                    $("#liQtyRange").hide();
                    $("#liItemStatus").hide();
                    $("#liReportRange").hide();
                    $("#liReportRangeData").hide();
                    $("#liRRSelectAll").hide();
                    $("#liInstockOnlyExpItems").hide();
                    $("#liincludeStockouttool").hide();
                    $("#liExcludeZeroOrdQty").hide();
                }
                /* WI-6599 Changes for InStock Schedule start */
                var TemplateName = "";
                var ModuleName = "";
                if (typeof ($("#hdnTemplateName")) != undefined && $("#hdnTemplateName") != null) {
                    TemplateName = $("#hdnTemplateName").val();
                }
                if (typeof ($("#hdnModuleName")) != undefined && $("#hdnModuleName") != null) {
                    ModuleName = $("#hdnModuleName").val();
                }
                if (TemplateName == "ItemStockOut"
                    && (ModuleName == 'InStockByBin'
                        || ModuleName == 'InStockByActivity'
                        || ModuleName == 'InStockByBinMargin'
                        || ModuleName == 'InStockWithQOH')) {
                    $("#ddlItemStatus").multiselect("refresh");
                    $("#ddlItemStatus").multiselect({
                        noneSelectedText: 'Item Status', selectedList: 5,
                        selectedText: function (numChecked, numTotal, checkedItems) {
                            return 'Item Status' + ' ' + numChecked + ' ' + selected;
                        }
                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                        if (ui.checked) {
                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                            $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                        }
                        else {
                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                        }
                    });
                    var objExistselect = $("input#ItemStatus").val().split(',');
                    var x = document.getElementById("ddlItemStatus");
                    if ($("input#ItemStatus").val().length <= 0) {
                        for (j = 0; j < x.options.length; j++) {
                            if (x.options[j].value == "1") {
                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                $("#ddlItemStatus").multiselect("refresh");
                                var SelectedStatusID = getSelectedID('ddlItemStatus');
                                $("body").find("input#ItemStatus").val(SelectedStatusID);
                            }
                        }
                    }
                    for (var i = 0; i < objExistselect.length; i++) {
                        for (j = 0; j < x.options.length; j++) {

                            if (x.options[j].value == objExistselect[i]) {
                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                $("#ddlItemStatus").multiselect("refresh");
                            }
                        }
                    }
                    $("#liItemStatus").show();
                }
                else {
                    $("#liItemStatus").hide();
                }
                /* WI-6599 Changes for InStock Schedule End */
            },
            error: function (err) {

            }
        });

        if (ScheduleFor == "5") {
            $("select#SortFieldFirstOrder").html('');
            $("select#SortFieldSecondOrder").html('');
            $("select#SortFieldThirdOrder").html('');
            $("select#SortFieldFourthOrder").html('');
            $("select#SortFieldFifthOrder").html('');
            $("select#SortFieldFirstValue").html('');
            $("select#SortFieldSecondValue").html('');
            $("select#SortFieldThirdValue").html('');
            $("select#SortFieldFourthValue").html('');
            $("select#SortFieldFifthValue").html('');
            ShowSortDropdown();
            $("select#EmailTemplateToken").html('');
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetTokenReportWise", "Notification")',
                contentType: 'application/json',
                dataType: 'json',
                data: "{TemplateId:'" + parseInt(templateID) + "',ReportID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "',isBothApplay: '" + false + "'}",
                success: function (Result) {

                    $.each(Result.lstSortList, function (key, value) {
                        $("select#EmailTemplateToken").append($("<option></option>").val(value.key).html(value.value));
                    });
                }
            });
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetSortFieldsReportWise", "Notification")',
                contentType: 'application/json',
                dataType: 'json',
                data: "{TemplateId:'" + parseInt(templateID) + "',NotificationID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "'}",
                success: function (Result) {

                    $.each(Result.lstSortList, function (key, value) {
                        $("select#SortFieldFirstValue").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldSecondValue").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldThirdValue").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldFourthValue").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldFifthValue").append($("<option></option>").val(value.key).html(value.value));
                    });
                    $.each(Result.lstSortOrder, function (key, value) {

                        $("select#SortFieldFirstOrder").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldSecondOrder").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldThirdOrder").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldFourthOrder").append($("<option></option>").val(value.key).html(value.value));
                        $("select#SortFieldFifthOrder").append($("<option></option>").val(value.key).html(value.value));
                    });

                    if ((Result.objNotificationDTO.ReportMasterDTO != null && Result.objNotificationDTO.ReportMasterDTO.ReportType == "2") ||
                        Result.objNotificationDTO.AttachedReportMasterDTO != null && Result.objNotificationDTO.AttachedReportMasterDTO.ReportType == "2") {
                        $("li#HideHeaderLI").hide();
                        $("input#HideHeader").attr("disabled", "disabled");
                        $("input#HideHeader").removeAttr("checked");
                    }
                    else {
                        $("li#HideHeaderLI").show();
                        $("input#HideHeader").removeAttr("disabled");
                    }
                    if ((Result.objNotificationDTO.ReportMasterDTO != null && Result.objNotificationDTO.ReportMasterDTO.IsNotEditable == true)) {
                        $("li#HideHeaderLI").hide();
                        $("input#HideHeader").attr("disabled", "disabled");
                        $("input#HideHeader").removeAttr("checked");
                    }
                    var FirstValue, FirstSort, SecondValue, SecondSort, ThirdValue, ThirdSort, FourthValue, FourSort, FifthValue, FifthSort;
                    FirstValue = Result.objNotificationDTO.SortFieldFirstValue;
                    FirstSort = Result.objNotificationDTO.SortFieldFirstOrder;
                    SecondValue = Result.objNotificationDTO.SortFieldSecondValue;
                    SecondSort = Result.objNotificationDTO.SortFieldSecondOrder;
                    ThirdValue = Result.objNotificationDTO.SortFieldThirdValue;
                    ThirdSort = Result.objNotificationDTO.SortFieldThirdOrder;
                    FourthValue = Result.objNotificationDTO.SortFieldFourthValue;
                    FourSort = Result.objNotificationDTO.SortFieldFourthOrder;
                    FifthValue = Result.objNotificationDTO.SortFieldFifthValue;
                    FifthSort = Result.objNotificationDTO.SortFieldFifthOrder;

                    if (FirstValue != '') {
                        $("select#SortFieldFirstValue").val(FirstValue);
                        $("select#SortFieldFirstOrder").val(FirstSort);
                    }
                    if (SecondValue != '') {
                        $("select#SortFieldSecondValue").val(SecondValue);
                        $("select#SortFieldSecondOrder").val(SecondSort);
                    }
                    if (ThirdValue != '') {
                        $("select#SortFieldThirdValue").val(ThirdValue);
                        $("select#SortFieldThirdOrder").val(ThirdSort);
                    }
                    if (FourthValue != '') {
                        $("select#SortFieldFourthValue").val(FourthValue);
                        $("select#SortFieldFourthOrder").val(FourSort);
                    }
                    if (FifthValue != '') {
                        $("select#SortFieldFifthValue").val(FifthValue);
                        $("select#SortFieldFifthOrder").val(FifthSort);
                    }
                    SetSortFields();

                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetModuleNameByReportId", "Reportbuilder")',
                        contentType: 'application/json',
                        data: "{TemplateId:'" + parseInt(templateID) + "',NotificationID:'" + parseInt(NotificationID) + "'}",
                        success: function (response) {

                            $('input#hdnModuleName').val(response);
                            if (response != null && response != '' && (response == "Consume_Requisition" || response == "Range-Consume_Requisition")) {
                                $("#liRequisitionStatus").show();
                                $("#liWOStatus").show();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                BindStatus(response, $("input#Status").val());
                                BindWOStatus("WorkOrder", $("input#WOStatus").val());
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();


                            }
                            else if (response != null && response != '' && response == "WorkOrder") {
                                BindWOStatus(response, $("input#WOStatus").val());

                                $("#ddlQuantityType").multiselect("refresh");
                                $("#ddlQuantityType").multiselect({
                                    noneSelectedText: 'Quantity Type', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Quantity Type' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='" + ui.value + "']").attr("selected", 1);
                                        // SetLabelText('lblselectedRoom', 'ddlStatus');

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                    else {

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                });


                                var objExistselect = $("input#QtyType").val().split(',');
                                var x = document.getElementById("ddlQuantityType");


                                for (var i = 0; i < objExistselect.length; i++) {

                                    //    for (var j = 0; j < objList.length; j++) {

                                    //      if (objList[j].key == objExistselect[i]) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("refresh");

                                        }
                                    }
                                }


                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").show();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liQuantityType").show();
                                if ((parseInt(NotificationID) || 0) < 1) {
                                    //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                    //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("refresh");
                                    $("#ddlQuantityType").multiselect("reload");
                                    var SelectedStatusID = getSelectedID('ddlQuantityType');
                                    $("body").find("input#QtyType").val(SelectedStatusID);
                                }
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "Order") {
                                BindOrderStatus(response, $("input#OrderStatus").val());

                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").show();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();
                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "Replenish_Order") {
                                BindOrderLineItemStatus(response, $("input#OrderStatus").val());
                                $("#liOrderWithLineItemStatus").show();
                                $("#liOrderStatus").hide();
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();
                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                                    ParentReportName = $("#ParentReportName").val();
                                }
                                if (ParentReportName === "Order Item Summary") {
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liReportRange").show();
                                    $("#liReportRangeData").show();
                                    $("#liRRSelectAll").show();
                                    $("#liExcludeZeroOrdQty").show();
                                }
                                else {
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                            }
                            else if (response != null && response != '' && response == "WorkorderList") {
                                $("#liReportRange").show();
                                $("#liReportRangeData").show();
                                $("#liRRSelectAll").show();

                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != ''
                                && response == "Range-Receive") {
                                var ParentReportName = "";
                                if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                                    ParentReportName = $("#ParentReportName").val();
                                }
                                if (ParentReportName === "Received Items More Than Approved") {
                                    $("#liReportRange").show();
                                    $("#liReportRangeData").show();
                                    $("#liRRSelectAll").show();

                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                                else {
                                    $("#liRequisitionStatus").hide();
                                    $("#liWOStatus").hide();
                                    $("#liOrderStatus").hide();
                                    $("#liOrderWithLineItemStatus").hide();
                                    $("#liOnlyExpiredItems").hide();
                                    $("#liOnlyExpiredItemsDays").hide();
                                    $("#liOnlyExpiredItemsOrder").hide();
                                    $("#liOnlyExpiredItemsDate").hide();
                                    $("#liOnlyAvailableTools").hide();
                                    $("#liQuantityType").hide();
                                    $("#liItemStatus").hide();
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liAppliedFilter").hide();

                                    $("#liMonthlyAvg").hide();
                                    $("#liQtyRangeSelected").hide();
                                    $("#liQtyRange").hide();
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                    $("#liInstockOnlyExpItems").hide();
                                    $("#liCartType").hide();
                                    $("#liMoveType").hide();
                                    $("#liincludeStockouttool").hide();
                                    $("#liExcludeZeroOrdQty").hide();
                                }
                            }
                            else if (response != null && response != '' && response == "ExpiringItems") {
                                $("#liOnlyExpiredItems").show();
                                $("#liOnlyExpiredItemsDays").show();
                                $("#liOnlyExpiredItemsOrder").show();
                                $("#liOnlyExpiredItemsDate").show();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liRequisitionStatus").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response == "Tool") {
                                $("#liOnlyAvailableTools").show();
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && ((response.toLowerCase() == "consume_pull") || (response.toLowerCase() == "not consume_pull"))) {
                                $("#ddlQuantityType").multiselect("refresh");
                                $("#ddlQuantityType").multiselect({
                                    noneSelectedText: 'Quantity Type', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Quantity Type' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlQuantityType option[value='" + ui.value + "']").attr("selected", 1);
                                        // SetLabelText('lblselectedRoom', 'ddlStatus');

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                    else {

                                        var SelectedStatusID = getSelectedID('ddlQuantityType');
                                        $("body").find("input#QtyType").val(SelectedStatusID);


                                    }
                                });


                                var objExistselect = $("input#QtyType").val().split(',');
                                var x = document.getElementById("ddlQuantityType");


                                for (var i = 0; i < objExistselect.length; i++) {

                                    //    for (var j = 0; j < objList.length; j++) {

                                    //      if (objList[j].key == objExistselect[i]) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlQuantityType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlQuantityType").multiselect("refresh");

                                        }
                                    }
                                }
                                $("#liQuantityType").show();
                                if ((parseInt(NotificationID) || 0) < 1) {
                                    //$("#ddlQuantityType").find("option[value='1']").prop("selected", "selected");
                                    //$("#ddlQuantityType").find("option[value='2']").prop("selected", "selected");
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='1']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='1']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("widget").find(":checkbox[value='2']").attr("checked", "checked");
                                    $("#ddlQuantityType option[value='2']").attr("selected", 1);
                                    $("#ddlQuantityType").multiselect("refresh");
                                    $("#ddlQuantityType").multiselect("reload");
                                    var SelectedStatusID = getSelectedID('ddlQuantityType');
                                    $("body").find("input#QtyType").val(SelectedStatusID);
                                }
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                //$("#liItemStatus").hide();
                                if ($("#ParentReportName") != undefined && $("#ParentReportName").length > 0) {
                                    ParentReportName = $("#ParentReportName").val();
                                }
                                if (ParentReportName === "Pull Summary" || ParentReportName === "Pull Summary by Quarter") {
                                    $("#liUsageType").show();
                                    $("select#ddlUsageType").val($('#UsageType').val());
                                    $("#ddlItemStatus").multiselect("refresh");
                                    $("#ddlItemStatus").multiselect({
                                        noneSelectedText: 'Item Status', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                                            FillModuleItem();
                                        }
                                        else {
                                            var SelectedStatusID = getSelectedID('ddlItemStatus');
                                            $("body").find("input#ItemStatus").val(SelectedStatusID);
                                            FillModuleItem();
                                        }
                                    });

                                    var objExistselect = $("input#ItemStatus").val().split(',');
                                    var x = document.getElementById("ddlItemStatus");

                                    for (var i = 0; i < objExistselect.length; i++) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlItemStatus").multiselect("refresh");
                                            }
                                        }
                                    }
                                    $("#liItemStatus").show();

                                    if (ParentReportName === "Pull Summary by Quarter")
                                    {
                                        $("#liItemWithZeroPullUsage").show();
                                    }
                                }
                                else {
                                    $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                    $("#liItemStatus").hide();
                                }

                                $("#liOnlyAvailableTools").hide();
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liAppliedFilter").hide();
                                $("#liExcludeZeroOrdQty").hide();


                                if (response.toLowerCase() == "consume_pull") {

                                    $("#liReportRange").show();
                                    $("#liReportRangeData").show();
                                    $("#liRRSelectAll").show();
                                }
                                else {
                                    $("#liReportRange").hide();
                                    $("#liReportRangeData").hide();
                                    $("#liRRSelectAll").hide();
                                }



                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();

                                $("#liInstockOnlyExpItems").hide();
                                $("#liincludeStockouttool").hide();
                            }
                            else if (response != null && response != '' && response == 'CountMaster') {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liItemStatus").hide();
                                $("#liAppliedFilter").show();
                                $("select#ddlAppliedFilter").val($('#CountAppliedFilter').val());


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && (response == 'InStockByBin' || response == 'InStockByActivity' || response == 'InStockByBinMargin' || response == 'InStockWithQOH')) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();

                                $("#liAppliedFilter").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                              //  BindFilterQOHDDL(response, $("input#FilterQOH").val());
                              //  BindFilterReportRange(parseInt(templateID), parseInt(NotificationID), $("input#ReportRange").val());

                                $("#liItemStatus").show();
                                    $("#liMonthlyAvg").show();
                                    $("#liQtyRangeSelected").show();
                                    $("#liQtyRange").show();



                                $("#liReportRange").show();
                                $("#liReportRangeData").show();
                                $("#liRRSelectAll").show();
                                if (response == "InStockByBin") {

                                    $("#liInstockOnlyExpItems").show();
                                }
                                else {
                                    $("#liInstockOnlyExpItems").hide();
                                }
                            }
                            else if (response != null && response != '' && (response == 'Cart')) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liItemStatus").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                                $("#ddlCartType").multiselect("refresh");
                                $("#ddlCartType").multiselect({
                                    noneSelectedText: 'Cart Type', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Cart Type' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlCartType option[value='" + ui.value + "']").attr("selected", 1);

                                        var SelectedCartType = getSelectedID('ddlCartType');
                                        $("body").find("input#CartType").val(SelectedCartType);
                                    }
                                    else {
                                        var SelectedCartType = getSelectedID('ddlCartType');
                                        $("body").find("input#CartType").val(SelectedCartType);
                                    }
                                });

                                var objExistselect = $("input#CartType").val().split(',');
                                var x = document.getElementById("ddlCartType");

                                for (var i = 0; i < objExistselect.length; i++) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlCartType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlCartType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlCartType").multiselect("refresh");
                                        }
                                    }
                                }
                                $("#liCartType").show();
                            }
                            else if (response != null && response != '' && response.toLowerCase() == 'ToolInStock'.toLowerCase()) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liItemStatus").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").show();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                            else if (response != null && response != '' && response.toLowerCase() == 'inventory stock out'.toLowerCase()) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#ddlItemStatus").multiselect("refresh");
                                $("#ddlItemStatus").multiselect({
                                    noneSelectedText: 'Item Status', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                    else {
                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                });

                                var objExistselect = $("input#ItemStatus").val().split(',');
                                var x = document.getElementById("ddlItemStatus");

                                for (var i = 0; i < objExistselect.length; i++) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlItemStatus").multiselect("refresh");
                                        }
                                    }
                                }
                                $("#liItemStatus").show();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                                else if (response != null && response != '' && (response == 'MoveMaterial')) {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#ddlItemStatus").multiselect("refresh");
                                $("#ddlItemStatus").multiselect({
                                    noneSelectedText: 'Item Status', selectedList: 5,
                                    selectedText: function (numChecked, numTotal, checkedItems) {
                                        return 'Item Status' + ' ' + numChecked + ' ' + selected;
                                    }
                                }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                    if (ui.checked) {
                                        $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                        $("#ddlItemStatus option[value='" + ui.value + "']").attr("selected", 1);

                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                    else {
                                        var SelectedStatusID = getSelectedID('ddlItemStatus');
                                        $("body").find("input#ItemStatus").val(SelectedStatusID);
                                        FillModuleItem();
                                    }
                                });

                                var objExistselect = $("input#ItemStatus").val().split(',');
                                var x = document.getElementById("ddlItemStatus");

                                for (var i = 0; i < objExistselect.length; i++) {
                                    for (j = 0; j < x.options.length; j++) {

                                        if (x.options[j].value == objExistselect[i]) {
                                            $("#ddlItemStatus").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                            $("#ddlItemStatus option[value='" + x.options[j].value + "']").attr("selected", 1);
                                            $("#ddlItemStatus").multiselect("refresh");
                                        }
                                    }
                                }
                                $("#liItemStatus").show();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").show();
                                $("#liReportRangeData").show();
                                $("#liRRSelectAll").show();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                                $("#ddlMoveType").multiselect("refresh");
                                    $("#ddlMoveType").multiselect({
                                        noneSelectedText: '@ResSchedulerReportList.MoveType', selectedList: 5,
                                        selectedText: function (numChecked, numTotal, checkedItems) {
                                            return '@ResSchedulerReportList.MoveType' + ' ' + numChecked + ' ' + selected;
                                        }
                                    }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
                                        if (ui.checked) {
                                            $("#ddlMoveType").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                                            $("#ddlMoveType option[value='" + ui.value + "']").attr("selected", 1);

                                            var SelectedMoveType = getSelectedID('ddlMoveType');
                                            $("body").find("input#MoveType").val(SelectedMoveType);
                                            FillModuleItem();
                                        }
                                        else {
                                            var SelectedMoveType = getSelectedID('ddlMoveType');
                                            $("body").find("input#MoveType").val(SelectedMoveType);
                                            FillModuleItem();
                                        }
                                    });

                                    var objExistselect = $("input#MoveType").val().split(',');
                                    var x = document.getElementById("ddlMoveType");

                                    for (var i = 0; i < objExistselect.length; i++) {
                                        for (j = 0; j < x.options.length; j++) {

                                            if (x.options[j].value == objExistselect[i]) {
                                                $("#ddlMoveType").multiselect("widget").find(":checkbox[value='" + x.options[j].value + "']").attr("checked", "checked");
                                                $("#ddlMoveType option[value='" + x.options[j].value + "']").attr("selected", 1);
                                                $("#ddlMoveType").multiselect("refresh");
                                            }
                                        }
                                    }
                                    $("#liMoveType").show();
                            }
                            else {
                                $("#liRequisitionStatus").hide();
                                $("#liWOStatus").hide();
                                $("#liOrderStatus").hide();
                                $("#liOrderWithLineItemStatus").hide();
                                $("#liOnlyExpiredItems").hide();
                                $("#liOnlyExpiredItemsDays").hide();
                                $("#liOnlyExpiredItemsOrder").hide();
                                $("#liOnlyExpiredItemsDate").hide();
                                $("#liOnlyAvailableTools").hide();
                                $("#liQuantityType").hide();
                                $("#liItemStatus").hide();
                                $("#liUsageType,#liItemWithZeroPullUsage").hide();
                                $("#liAppliedFilter").hide();


                                $("#liMonthlyAvg").hide();
                                $("#liQtyRangeSelected").hide();
                                $("#liQtyRange").hide();
                                $("#liReportRange").hide();
                                $("#liReportRangeData").hide();
                                $("#liRRSelectAll").hide();
                                $("#liInstockOnlyExpItems").hide();
                                $("#liCartType").hide();
                                $("#liMoveType").hide();
                                $("#liincludeStockouttool").hide();
                                $("#liExcludeZeroOrdQty").hide();
                            }
                        }
                    });
                    //alert(Result.lstSortList);
                    //alert(Result.lstSortOrder);
                    //alert(Result.objNotificationDTO.SortFieldFifthOrder);

                },
                error: function (err) {

                }
            });
        }
        else {
            HideSortDropdown();
            $("select#EmailTemplateToken").html('');
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetTokenReportWise", "Notification")',
                contentType: 'application/json',
                dataType: 'json',
                data: "{TemplateId:'" + parseInt(templateID) + "',ReportID:'" + parseInt(NotificationID) + "',ScheduleFor:'" + parseInt(ScheduleFor) + "',isBothApplay: '" + false + "'}",
                success: function (Result) {

                    $.each(Result.lstSortList, function (key, value) {
                        $("select#EmailTemplateToken").append($("<option></option>").val(value.key).html(value.value));
                    });
                    if (parseInt(templateID) == @Convert.ToInt32(MailTemplate.RequisitionApproveReject)
                        || parseInt(templateID) == @Convert.ToInt32(MailTemplate.OrderApproveReject)) {
                        $("#divApproverRequestertitle").show();
                        $("#divApproverRequesterNote").show();
                    }
                    else {
                        $("#divApproverRequestertitle").hide();
                        $("#divApproverRequesterNote").hide();
                    }
                }
            });
        }
    }
    function ShowSortDropdown() {
        $("select#SortFieldFirstOrder").html('');
        $("select#SortFieldSecondOrder").html('');
        $("select#SortFieldThirdOrder").html('');
        $("select#SortFieldFourthOrder").html('');
        $("select#SortFieldFifthOrder").html('');
        $("select#SortFieldFirstValue").html('');
        $("select#SortFieldSecondValue").html('');
        $("select#SortFieldThirdValue").html('');
        $("select#SortFieldFourthValue").html('');
        $("select#SortFieldFifthValue").html('');

        $("li#SortFieldFirstOrder").show();
        $("li#SortFieldSecondOrder").show();
        $("li#SortFieldThirdOrder").show();
        $("li#SortFieldFourthOrder").show();
        $("li#SortFieldFifthOrder").show();
        $("li#SortFieldFirstValue").show();
        $("li#SortFieldSecondValue").show();
        $("li#SortFieldThirdValue").show();
        $("li#SortFieldFourthValue").show();
        $("li#SortFieldFifthValue").show();
        $("li#ShowSignatureLI").show();
        $("li#HideHeaderLI").show();
    }
    function HideSortDropdown() {
        $("select#SortFieldFirstOrder").html('');
        $("select#SortFieldSecondOrder").html('');
        $("select#SortFieldThirdOrder").html('');
        $("select#SortFieldFourthOrder").html('');
        $("select#SortFieldFifthOrder").html('');
        $("select#SortFieldFirstValue").html('');
        $("select#SortFieldSecondValue").html('');
        $("select#SortFieldThirdValue").html('');
        $("select#SortFieldFourthValue").html('');
        $("select#SortFieldFifthValue").html('');
        $("li#SortFieldFirstOrder").hide();
        $("li#SortFieldSecondOrder").hide();
        $("li#SortFieldThirdOrder").hide();
        $("li#SortFieldFourthOrder").hide();
        $("li#SortFieldFifthOrder").hide();
        $("li#SortFieldFirstValue").hide();
        $("li#SortFieldSecondValue").hide();
        $("li#SortFieldThirdValue").hide();
        $("li#SortFieldFourthValue").hide();
        $("li#SortFieldFifthValue").hide();
        $("li#ShowSignatureLI").hide();
        $("li#HideHeaderLI").hide();


    }
    function SetSortFields() {
        var value1 = '';
        var value2 = '';
        var value3 = '';
        var value4 = '';
        var value5 = '';

        hideColumnInOtherDropdown("SortFieldFirstValue", $("#SortFieldFirstValue").val());
        if ($("#SortFieldSecondValue").val() != '') {
            hideColumnInOtherDropdown("SortFieldSecondValue", $("#SortFieldSecondValue").val());
        }
        if ($("#SortFieldThirdValue").val() != '') {
            hideColumnInOtherDropdown("SortFieldThirdValue", $("#SortFieldThirdValue").val());
        }
        if ($("#SortFieldFourthValue").val() != '') {
            hideColumnInOtherDropdown("SortFieldFourthValue", $("#SortFieldFourthValue").val());
        }
        if ($("#SortFieldFifthValue").val() != '') {
            hideColumnInOtherDropdown("SortFieldFifthValue", $("#SortFieldFifthValue").val());
        }

        $("#SortFieldFirstValue").change(function () {
            hideColumnInOtherDropdown($(this).attr("id"), $(this).val());
        });
        $("#SortFieldSecondValue").change(function () {
            hideColumnInOtherDropdown($(this).attr("id"), $(this).val());
        });
        $("#SortFieldThirdValue").change(function () {
            hideColumnInOtherDropdown($(this).attr("id"), $(this).val());
        });
        $("#SortFieldFourthValue").change(function () {
            hideColumnInOtherDropdown($(this).attr("id"), $(this).val());
        });
        $("#SortFieldFifthValue").change(function () {
            hideColumnInOtherDropdown($(this).attr("id"), $(this).val());
        });

    }
    function hideColumnInOtherDropdown(drpId, value) {

        value1 = $("select#SortFieldFirstValue").val();
        value2 = $("select#SortFieldSecondValue").val();
        value3 = $("select#SortFieldThirdValue").val();
        value4 = $("select#SortFieldFourthValue").val();
        value5 = $("select#SortFieldFifthValue").val();


        if (drpId == "SortFieldFirstValue") {
            $("select#SortFieldSecondValue").children('option').hide();
            $("select#SortFieldThirdValue").children('option').hide();
            $("select#SortFieldFourthValue").children('option').hide();
            $("select#SortFieldFifthValue").children('option').hide();

            $("select#SortFieldSecondValue").children("option[value!=" + value1 + "]").show();
            $("select#SortFieldThirdValue").children("option[value!=" + value1 + "]").show();
            $("select#SortFieldFourthValue").children("option[value!=" + value1 + "]").show();
            $("select#SortFieldFifthValue").children("option[value!=" + value1 + "]").show();
            if (value2 != '') {
                $("select#SortFieldThirdValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value2 + "]").hide();
            }
            if (value3 != '') {
                $("select#SortFieldSecondValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value3 + "]").hide();
            }
            if (value4 != '') {
                $("select#SortFieldSecondValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value4 + "]").hide();
            }
            if (value5 != '') {
                $("select#SortFieldSecondValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value5 + "]").hide();
            }

        }
        if (drpId == "SortFieldSecondValue") {
            $("select#SortFieldFirstValue").children('option').hide();
            $("select#SortFieldThirdValue").children('option').hide();
            $("select#SortFieldFourthValue").children('option').hide();
            $("select#SortFieldFifthValue").children('option').hide();

            $("select#SortFieldFirstValue").children("option[value!=" + value2 + "]").show();
            $("select#SortFieldThirdValue").children("option[value!=" + value2 + "]").show();
            $("select#SortFieldFourthValue").children("option[value!=" + value2 + "]").show();
            $("select#SortFieldFifthValue").children("option[value!=" + value2 + "]").show();
            if (value1 != '') {
                $("select#SortFieldThirdValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value1 + "]").hide();
            }
            if (value3 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value3 + "]").hide();
            }
            if (value4 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value4 + "]").hide();
            }
            if (value5 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value5 + "]").hide();
            }
        }
        if (drpId == "SortFieldThirdValue") {
            $("select#SortFieldFirstValue").children('option').hide();
            $("select#SortFieldSecondValue").children('option').hide();
            $("select#SortFieldFourthValue").children('option').hide();
            $("select#SortFieldFifthValue").children('option').hide();

            $("select#SortFieldFirstValue").children("option[value!=" + value3 + "]").show();
            $("select#SortFieldSecondValue").children("option[value!=" + value3 + "]").show();
            $("select#SortFieldFourthValue").children("option[value!=" + value3 + "]").show();
            $("select#SortFieldFifthValue").children("option[value!=" + value3 + "]").show();
            if (value1 != '') {
                $("select#SortFieldSecondValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value1 + "]").hide();
            }
            if (value2 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value2 + "]").hide();
            }
            if (value4 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldSecondValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value4 + "]").hide();
            }
            if (value5 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldSecondValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value5 + "]").hide();
            }
        }
        if (drpId == "SortFieldFourthValue") {
            $("select#SortFieldFirstValue").children('option').hide();
            $("select#SortFieldSecondValue").children('option').hide();
            $("select#SortFieldThirdValue").children('option').hide();
            $("select#SortFieldFifthValue").children('option').hide();

            $("select#SortFieldFirstValue").children("option[value!=" + value4 + "]").show();
            $("select#SortFieldSecondValue").children("option[value!=" + value4 + "]").show();
            $("select#SortFieldThirdValue").children("option[value!=" + value4 + "]").show();
            $("select#SortFieldFifthValue").children("option[value!=" + value4 + "]").show();
            if (value1 != '') {
                $("select#SortFieldSecondValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value1 + "]").hide();
            }
            if (value2 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value2 + "]").hide();
            }
            if (value3 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldSecondValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldFifthValue").children("option[value=" + value3 + "]").hide();
            }
            if (value5 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldSecondValue").children("option[value=" + value5 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value5 + "]").hide();
            }
        }
        if (drpId == "SortFieldFifthValue") {
            $("select#SortFieldFirstValue").children('option').hide();
            $("select#SortFieldSecondValue").children('option').hide();
            $("select#SortFieldThirdValue").children('option').hide();
            $("select#SortFieldFourthValue").children('option').hide();

            $("select#SortFieldFirstValue").children("option[value!=" + value5 + "]").show();
            $("select#SortFieldSecondValue").children("option[value!=" + value5 + "]").show();
            $("select#SortFieldThirdValue").children("option[value!=" + value5 + "]").show();
            $("select#SortFieldFourthValue").children("option[value!=" + value5 + "]").show();
            if (value1 != '') {
                $("select#SortFieldSecondValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value1 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value1 + "]").hide();
            }
            if (value2 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value2 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value2 + "]").hide();
            }
            if (value3 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldSecondValue").children("option[value=" + value3 + "]").hide();
                $("select#SortFieldFourthValue").children("option[value=" + value3 + "]").hide();
            }
            if (value4 != '') {
                $("select#SortFieldFirstValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldSecondValue").children("option[value=" + value4 + "]").hide();
                $("select#SortFieldThirdValue").children("option[value=" + value4 + "]").hide();
            }
        }
        $("select#SortFieldFirstValue").children("option[value='']").show();
        $("select#SortFieldSecondValue").children("option[value='']").show();
        $("select#SortFieldThirdValue").children("option[value='']").show();
        $("select#SortFieldFourthValue").children("option[value='']").show();
        $("select#SortFieldFifthValue").children("option[value='']").show();
    }
    function LoadScheduleparams(scheduleName, isCopyMode, NotifircationID) {
        $('#DivLoading').show();
        $("#dvParams").load('@Url.Action("LoadScheduleParams", "Notification")', { "ScheduleName": scheduleName, "LoadSheduleFor": $("#ScheduleFor").val(), "NotificationId": NotifircationID }, function () {
            $('#DivLoading').hide();
            $("#dvParams").show();
            if ($("#dvParams").find("#ScheduleID").val() == 0) {

            }
            else {
                //                $("#dvParams").find("input[type='text'],input[type='radio'],input[type='checkbox']").prop("disabled", "disabled");
                //                $("#dvParams").find("select").prop("disabled", "disabled");
            }
            ShowHideImmediateButton();


            if (isCopyMode == true) {

                $("#dvParams").find("#ScheduleID").val("0");
            }

        });

    }
    function copyNotification(ID) {
        var actiontupess = "NotificationConfigurationAlertEdit/" + ID + "?forcopy=true";
        ShowEditTabNotification('NotificationConfigurationAlertEdit/' + ID, 'frmNotificationConfigAlert', aData);
    }
    function bindSuppliers() {
        var currentType = 0;
        var currentReportIDNew = $("select[name='drpNotificationName']").val();
        if ($('select[name="drpNotificationName"]').val() != null) {
            currentType = $("select[name='drpNotificationName']").val().split('_')[1];
        }
        var RoomListNew = '';
        var CompanyListNew = '';

        if ($.trim(currentType) == "5") {
            var fieldsRoom = $("select#ddlRRoom").serializeArray();
            var fieldsCompany = $("select#ddlRCompany").serializeArray();


            for (var i = 0; i < fieldsRoom.length; i++) {
                if (RoomListNew != '') {
                    RoomListNew += ',' + fieldsRoom[i].value;
                }
                else {
                    RoomListNew = fieldsRoom[i].value;
                }
            }
            for (var i = 0; i < fieldsCompany.length; i++) {
                if (CompanyListNew != '') {
                    CompanyListNew += ',' + fieldsCompany[i].value;
                }
                else {
                    CompanyListNew = fieldsCompany[i].value;
                }
            }

        }
        else {
            if (currentReportIDNew == "21_6" || currentReportIDNew == "48_6") {
                var fieldsRoom = $("select#ddlRRoom").serializeArray();
                var fieldsCompany = $("select#ddlRCompany").serializeArray();


                for (var i = 0; i < fieldsRoom.length; i++) {
                    if (RoomListNew != '') {
                        RoomListNew += ',' + fieldsRoom[i].value;
                    }
                    else {
                        RoomListNew = fieldsRoom[i].value;
                    }
                }
                for (var i = 0; i < fieldsCompany.length; i++) {
                    if (CompanyListNew != '') {
                        CompanyListNew += ',' + fieldsCompany[i].value;
                    }
                    else {
                        CompanyListNew = fieldsCompany[i].value;
                    }
                }
            }
            else {
                RoomListNew = '@eTurnsWeb.Helper.SessionHelper.RoomID';
                CompanyListNew = '@eTurnsWeb.Helper.SessionHelper.CompanyID';
            }

        }


        var supp = '';
        $.ajax({
            type: "POST",
            url: "/ReportBuilder/GetSuppliersForRooms",
            data: JSON.stringify({ 'CompanyIds': CompanyListNew, 'RoomIds': RoomListNew }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            success: function (message) {
                var arraysuppliers = $("input[type='hidden'][id='SupplierIds']").val().split(',');

                if (message != null) {
                    for (var i = 0; i < message.length; i++) {
                        if ($.inArray(message[i].ID.toString(), arraysuppliers) > -1) {
                            supp += '<option selected="selected" value="' + message[i].ID + '">' + message[i].SupplierName + '</option>';
                        }
                        else {
                            supp += '<option value="' + message[i].ID + '">' + message[i].SupplierName + '</option>';
                        }

                    }
                    $("select#Suppliers").empty();
                    $("select#Suppliers").append(supp);
                }
            },
            error: function (response) {

            }
        });

    }
    function BindDropDownList(currentReport) {

        bindCompanyList();
        var SelectedCompanyID = getSelectedID('ddlRCompany');
        if (currentReport != "Company")
            bindRoomList(SelectedCompanyID, '');

    }
    function bindCompanyList() {

        var objList = '';
        var objSelect = '';
        $.ajax({
            type: "POST",
            url: "/ReportBuilder/GetCompanyList",
            data: "",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            success: function (message) {

                objList = message.CompanyList;
                objSelect = message.Selected;
            },
            error: function (response) {

            }
        });

        $("#ddlRCompany > option").remove();
        $("#ddlRCompany").multiselect("refresh");
        var s = '';
        for (var i = 0; i < objList.length; i++) {
            s += '<option value=' + objList[i].key + '  >' + objList[i].value + '</option>';
        }

        $("#ddlRCompany").append(s);
        $("#ddlRCompany").multiselect({
            noneSelectedText: 'Company', selectedList: 5,
            selectedText: function (numChecked, numTotal, checkedItems) {

                return 'Company' + ' ' + numChecked + ' ' + selected;
            }
        }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
            if (ui.checked) {
                $("#ddlRCompany").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                $("#ddlRCompany option[value='" + ui.value + "']").attr("selected", 1);
                SetLabelText('lblselectedCompany', 'ddlRCompany');
                var SelectedCompanyID = getSelectedID('ddlRCompany');
                var SelectedRoomID = getSelectedID('ddlRRoom');

                $("body").find("input#CompanyIds").val(SelectedCompanyID);
                $("body").find("input#RoomIds").val(SelectedRoomID);
                bindRoomList(SelectedCompanyID, SelectedRoomID);

                // FillModuleItem()
            }
            else {
                SetLabelText('lblselectedCompany', 'ddlRCompany');
                var SelectedCompanyID = getSelectedID('ddlRCompany');
                var SelectedRoomID = getSelectedID('ddlRRoom');

                $("body").find("input#CompanyIds").val(SelectedCompanyID);
                $("body").find("input#RoomIds").val(SelectedRoomID);

                bindRoomList(SelectedCompanyID, SelectedRoomID);

                // FillModuleItem()
            }
            setTimeout(function () { bindSuppliers(); }, 500);
        });

        for (var i = 0; i < objList.length; i++) {

            if (objList[i].key == objSelect) {
                $("#ddlRCompany").multiselect("widget").find(":checkbox[value='" + objList[i].key + "']").attr("checked", "checked");
                $("#ddlRCompany option[value='" + objList[i].key + "']").attr("selected", 1);
                $("#ddlRCompany").multiselect("refresh");

            }
        }
        SetLabelText('lblselectedCompany', 'ddlRCompany');

    }
    function getSelectedID(objID) {
        var selectedlist = '';
        var selectedrecs = $("#" + objID).multiselect("getChecked");
        if (selectedrecs.length > 0) {
            $(selectedrecs).each(function (indx, obj) {
                selectedlist += obj.value + ',';
            });
        }


        //var selectedlist = '';
        //$('.ui-multiselect-menu [type="checkbox"][id^="ui-multiselect-' + objID + '-option"]').each(function () {

        //    if ($(this).attr('checked') == 'checked') {
        //        if (selectedlist.length > 0)
        //            selectedlist += ',';
        //        selectedlist += $(this).val();
        //    }
        //});
        return selectedlist;
    }
    function bindRoomList(objCompanyID, objExistSelected) {
        debugger

        var objList = '';
        var objSelect = '';

        var objExistselect = objExistSelected.split(',');
        $.ajax({
            type: "POST",
            url: "/ReportBuilder/GetRoomList",
            data: JSON.stringify({ 'CompanyID': objCompanyID }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            success: function (message) {
                objList = message.RoomList;
                objSelect = message.Selected;
            },
            error: function (response) {

            }
        });
        $("#ddlRRoom > option").remove();
        $("#ddlRRoom").multiselect("refresh");
        var s = '';
        for (var i = 0; i < objList.length; i++) {
            s += '<option value=' + objList[i].key + '  >' + objList[i].value + '</option>';
        }
        $("#ddlRRoom").append(s);
        $("#ddlRRoom").multiselect({
            noneSelectedText: 'Room', selectedList: 5,
            selectedText: function (numChecked, numTotal, checkedItems) {
                return 'Room' + ' ' + numChecked + ' ' + selected;
            }
        }).unbind("multiselectclick multiselectcheckall multiselectuncheckall").bind("multiselectclick multiselectcheckall multiselectuncheckall", function (event, ui) {
            if (ui.checked) {
                $("#ddlRRoom").multiselect("widget").find(":checkbox[value='" + ui.value + "']").attr("checked", "checked");
                $("#ddlRRoom option[value='" + ui.value + "']").attr("selected", 1);
                SetLabelText('lblselectedRoom', 'ddlRRoom');
                var SelectedCompanyID = getSelectedID('ddlRCompany');
                var SelectedRoomID = getSelectedID('ddlRRoom');
                $("body").find("input#CompanyIds").val(SelectedCompanyID);
                $("body").find("input#RoomIds").val(SelectedRoomID);

            }
            else {
                var SelectedCompanyID = getSelectedID('ddlRCompany');
                var SelectedRoomID = getSelectedID('ddlRRoom');
                $("body").find("input#CompanyIds").val(SelectedCompanyID);
                $("body").find("input#RoomIds").val(SelectedRoomID);
                SetLabelText('lblselectedRoom', 'ddlRRoom');


            }
            setTimeout(function () { bindSuppliers(); }, 500);
        });
        $("#ddlRRoom").multiselect("refresh");

        var selectedLtext = '';
        for (var i = 0; i < objList.length; i++) {

            if (objList[i].key == objSelect) {
                $("#ddlRRoom").multiselect("widget").find(":checkbox[value='" + objList[i].key + "']").attr("checked", "checked");
                $("#ddlRRoom option[value='" + objList[i].key + "']").attr("selected", 1);
                $("#ddlRRoom").multiselect("refresh");

            }
        }
        for (var i = 0; i < objExistselect.length; i++) {

            for (var j = 0; j < objList.length; j++) {

                if (objList[j].key == objExistselect[i]) {
                    $("#ddlRRoom").multiselect("widget").find(":checkbox[value='" + objList[j].key + "']").attr("checked", "checked");
                    $("#ddlRRoom option[value='" + objList[j].key + "']").attr("selected", 1);
                    $("#ddlRRoom").multiselect("refresh");

                }
            }
        }
        SetLabelText('lblselectedRoom', 'ddlRRoom');

    }
    function SetLabelText(objlblID, objddlID) {

        var selectedlist = '';
        $('.ui-multiselect-menu [type="checkbox"][id^="ui-multiselect-' + objddlID + '-option"]').each(function () {
            if ($(this).attr('checked') == 'checked') {
                if (selectedlist.length > 0)
                    selectedlist += ',';
                selectedlist += $(this).parent().find('span').text();
            }
        });
        $('#' + objlblID + '').text(selectedlist);
        if ($('#lblselectedCompany').length > 0) {
            var txtLength = $('#lblselectedCompany').text().length;
            if (txtLength > 100) {
                $('.neweditorlabel').height("150px");
                $('.neweditorlabel').css("overflow", "auto");

            }
            else {
                $('.neweditorlabel').height("20px");
            }
        }
        //lblselectedRoom
        if ($('#lblselectedRoom').length > 0) {
            var txtLength = $('#lblselectedRoom').text().length;
            if (txtLength > 100) {
                $('.neweditorlabelrm').height("150px");
                $('.neweditorlabelrm').css("overflow", "auto");

            }
            else {
                //$('.neweditorlabelrm').height("20px");
                //$('.neweditorlabelrm').css("overflow", "auto");
            }
        }
    }


    $(document).on('change', 'select#ddlUsageType', function () {
        $('input#UsageType').val($(this).val());
    });


    $(document).on('change', 'select#ddlAppliedFilter', function () {
        $('input#CountAppliedFilter').val($(this).val());
    });
</script>
<script type="text/javascript" src="@Url.Content("~/Scripts/Authorization.js?v=" + version)"></script>
