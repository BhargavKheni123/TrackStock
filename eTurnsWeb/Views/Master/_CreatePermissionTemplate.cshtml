@model eTurns.DTO.PermissionTemplateDTO
@{
    Layout = "~/Views/Shared/_PopupMaster.cshtml";
    bool isInsert = eTurnsWeb.Helper.SessionHelper.GetModulePermission(eTurnsWeb.Helper.SessionHelper.ModuleList.PermissionTemplates, eTurnsWeb.Helper.SessionHelper.PermissionType.Insert);
    bool isUpdate = eTurnsWeb.Helper.SessionHelper.GetModulePermission(eTurnsWeb.Helper.SessionHelper.ModuleList.PermissionTemplates, eTurnsWeb.Helper.SessionHelper.PermissionType.Update);         
}


    @using (Ajax.BeginForm("PermissionTemplatesSave", "Master", new AjaxOptions { HttpMethod = "Post", LoadingElementId = "DivLoading", OnSuccess = "onSuccess", InsertionMode = InsertionMode.Replace, OnFailure = "onFailure" }, new { @id = "frmPermissionTemplate" }))
    {
        @Html.AntiForgeryToken()
        <div class="userHead">
        @Html.ValidationSummary(true)

        @if (Model.ID != 0)
        {
            <div class="infoBlock">
                <ul>
                    <li>
                        <label for="RoomName">
                            @Html.LabelFor(model => model.Created)
                        </label>
                        : <span>@(Model.CreatedDate)</span>
                    </li>
                    <li>
                        <label for="RoomName">
                            @Html.LabelFor(model => model.CreatedByName)
                        </label>
                        : @(Model.CreatedByName)
                    </li>
                    <li>
                        <label for="RoomName">
                            @Html.LabelFor(model => model.Updated)
                        </label>
                        : <span>@(Model.UpdatedDate)</span>
                    </li>
                    <li style="border: none">
                        <label for="RoomName">
                            @Html.LabelFor(model => model.UpdatedByName)
                        </label>
                        : @(Model.UpdatedByName)
                    </li>
                </ul>
            </div>
        }

        <div class="mainForm">
            <div class="editorForm">
                <h4>
                    @ResPermissionTemplate.TemplateName
                </h4>
                <ul>

                    <li>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.TemplateName)<em> *</em>
                        </div>
                        <div class="editor-field">
                            @Html.TextBoxFor(model => model.TemplateName, new {  @class = "text-box", maxlength = 200 })
                            <span class="ErrorMessage">@Html.ValidationMessageFor(model => model.TemplateName)</span>
                            @Html.HiddenFor(model => model.ID, new { id = "hiddenID" })
                        </div>
                    </li>
                    <li>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.Description)
                        </div>
                        <div class="editor-field">
                            @Html.TextAreaFor(model => model.Description, new { @class = "text-box", maxlength = 1024 })
                            <span class="ErrorMessage">@Html.ValidationMessageFor(model => model.Description)</span>
                        </div>
                    </li>
                    <li>
                        <div class="editor-label">
                            &nbsp;
                        </div>
                        <div class="BtnBlockform">
                            <input type="button" value="@eTurns.DTO.Resources.ResCommon.Cancel" id="btnCancel" class="CreateBtn" />
                            @if (isInsert == true && Model.ID == 0)
                            {
                                <input type="submit" value="@eTurns.DTO.Resources.ResCommon.Save" id="btnSave" class="CreateBtn" />
                            }
                            else if (isUpdate == true)
                            {

                                <input type="submit" value="@eTurns.DTO.Resources.ResCommon.Save" id="btnSave" class="CreateBtn" />
                            }
                        </div>
                    </li>
                </ul>
            </div>

        </div>


        <div id="CreateTemplatePermissionDIV">
            @Html.Partial("_CreateTemplatePermissionDetails", Model.IlstPermissions)
        </div>
    </div>
    }

@Html.Partial("_RequiredMessages")
@section scripts{
<script type="text/javascript">
$(document).ready(function () {
     $('form').areYouSure();
     });
</script>
    @*@if (false)
    {
        <script src="../../Scripts/jquery-1.9.1-vsdoc.js" type="text/javascript"></script>
    }*@
    <script src="@Url.Content("~/Scripts/PageScripts/PermissionTemplateDetails.js?v=" + eTurnsWeb.Helper.CommonUtility.GetReleaseNumber())" type="text/javascript"></script>
    
}
